(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[319],{50008:function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},74772:function(e,t,r){"use strict";r.d(t,{Q:function(){return c},qg:function(){return m},cP:function(){return f}});var n=r(67294),a=r(53583),o=r(42857),i=r(93175),l=r(95167),c=e=>{var{children:t,className:r,imgType:a,imgId:o,alt:i,isBackground:l}=e;return l?n.createElement(s,{className:r,name:a+"_"+o,isBackground:!0,alt:i},t):n.createElement(u,{className:r},n.createElement(s,{name:a+"_"+o,alt:i}),t)},s=(0,a.default)(i.Z).withConfig({displayName:"Card__StyledImg",componentId:"sc-1duszqx-0"})(["display:flex;justify-content:center;align-items:center;width:100%;background-repeat:no-repeat;"]),u=a.default.div.withConfig({displayName:"Card__ImgWrapper",componentId:"sc-1duszqx-1"})(["display:flex;align-items:center;justify-content:center;"]),m=e=>{var{className:t,id:r}=e,{itemString:a}=(0,o.f)();return n.createElement(d,{className:t,imgType:"item",imgId:r,alt:""},n.createElement(p,null,a.name[r]))},d=(0,a.default)(c).withConfig({displayName:"Card__ItemImg",componentId:"sc-1duszqx-2"})(["> div:first-child{width:2.5rem;height:2.5rem;margin-right:0.4rem;user-select:none;}"]),p=a.default.div.withConfig({displayName:"Card__TextWrapper",componentId:"sc-1duszqx-3"})(["white-space:nowrap;font-size:medium;font-weight:normal;"]),f=e=>{var{className:t,children:r,striped:a}=e;return n.createElement(y,{className:t,$striped:a},r)},y=(0,a.default)(l.Z).withConfig({displayName:"Card__StyledTable",componentId:"sc-1duszqx-4"})([".MuiTableCell-root{font-size:0.9rem;padding:0.3rem;padding-left:0.75rem;}"])},47233:function(e,t,r){"use strict";r.d(t,{Ps:function(){return b},ac:function(){return E}});var n=r(45987),a=r(67294),o=r(53583),i=r(33182),l=r(70943),c=r(57783),s=r(42857),u=r(74772),m=r(28437),d=r(5102),p=["available"],f=e=>{var{className:t,id:r}=e,{charString:n}=(0,s.f)();return a.createElement(y,{className:t,imgType:"char_small",imgId:r,alt:"",isBackground:!0},a.createElement(h,null,n.name[r].split(" ").slice(0,-1).join(" ")),a.createElement(g,null,n.name[r].split(" ").slice(-1)[0]))},y=(0,o.default)(u.Q).withConfig({displayName:"CharCard__StyledCard",componentId:"sc-1p8ym1z-0"})(["flex-direction:column;align-items:flex-end;justify-content:space-around;width:100%;min-width:10rem;height:3.6rem;background-repeat:no-repeat;background-size:6rem 6rem;background-position:0 -1.6rem;"]),g=o.default.div.withConfig({displayName:"CharCard__TextWrapper",componentId:"sc-1p8ym1z-1"})(["margin-left:0;margin-right:1rem;transition:all 0.3s ease;text-transform:none;",""],(e=>{var{theme:t}=e;return"\n  text-shadow: 0 0 1px "+t.colors.surface+",\n    -2px 0 1px "+t.colors.surface+",\n    2px 0 1px "+t.colors.surface+",\n    0 -2px 1px "+t.colors.surface+",\n    0 2px 1px "+t.colors.surface+",\n    2px 2px 1px "+t.colors.surface+",\n    2px -2px 1px "+t.colors.surface+",\n    -2px 2px 1px "+t.colors.surface+",\n    -2px -2px 1px "+t.colors.surface+";"})),h=(0,o.default)(g).withConfig({displayName:"CharCard__TitleText",componentId:"sc-1p8ym1z-2"})(["font-size:small;"]),v={TABLE:{"zh-TW":900,en:1300,ja:1300,ko:1300},FILTER:{"zh-TW":1360,en:1360,ja:1460,ko:1360}},b=(0,o.default)(f).attrs((e=>{var{$lang:t,$type:r}=e;return{$textWrapConfig:v[r][t]}})).withConfig({displayName:"CharCard__ResponsiveCharCard",componentId:"sc-1p8ym1z-3"})(["@media screen and (min-width:","px){flex-direction:row;align-items:center;justify-content:flex-start;> div{margin-left:7rem;}> div:last-child{margin-left:-0.6rem;}}"],(e=>{var{$textWrapConfig:t}=e;return t})),C=e=>{var{type:t,tag:r}=e,{charString:n}=(0,s.f)(),o={attribute:m.XV,position:m.$g,race:m.i6,body:m.cp,oppai:m.JU,rank:m.U2,else:m.fP};return a.createElement(i.Z,null,a.createElement(l.Z,null,a.createElement(w,null,a.createElement(x,null,o[t]),n.tags[r])))},w=o.default.div.withConfig({displayName:"CharCard__TagWrapper",componentId:"sc-1p8ym1z-4"})(["display:flex;flex-direction:row;"]),x=o.default.div.withConfig({displayName:"CharCard__IconWrapper",componentId:"sc-1p8ym1z-5"})(["margin-bottom:0.1rem;margin-left:0.25rem;margin-right:0.4rem;> svg{width:1.2rem;fill:",";color:",";}"],(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.secondary})),E=e=>{var{id:t}=e,{charString:r}=(0,s.f)(),{tags:o}=d.find((e=>e.id===t)),{available:m}=o,f=(0,n.Z)(o,p);return m?a.createElement(u.cP,{striped:!0},a.createElement(c.Z,null,Object.entries(f).map(((e,t)=>{var[r,n]=e;return"else"===r?n.map((e=>a.createElement(C,{key:e,type:"else",tag:e}))):n>=0?a.createElement(C,{key:n,type:r,tag:n}):null})))):a.createElement(u.cP,{striped:!0},a.createElement(c.Z,null,a.createElement(i.Z,null,a.createElement(l.Z,null,r.tagWarnMsg))))};t.ZP=f},65746:function(e,t,r){"use strict";var n=r(67294),a=r(77447);t.Z=e=>{var{className:t,layoutSwitcher:r,localStorageKey:o,items:i,initLayoutIndex:l,unmountOnLeave:c}=e,{layout:s,canRender:u,setLayout:m}=(0,a.Z)(o,i.map((e=>e.layout)),l,c);return n.createElement(n.Fragment,null,r&&n.cloneElement(r,{layout:s,setLayout:m}),i.map(((e,r)=>n.createElement("div",{className:t,hidden:s!==e.layout,key:e.layout},u[r]&&e.content))))}},772:function(e,t,r){"use strict";var n=r(67294),a=e=>{var{data:t,scrollTop:r,wrapperHeight:n,findItemIndex:a,overseen:o}=e,i=r+n,l=Math.max(a(r)-o,0),c=Math.min(a(i)+o,t.length-1);return Array.from({length:c-l+1},((e,t)=>t+l))};t.Z=e=>{var t,r,{data:o,findItemIndex:i,overseen:l}=e,c=(0,n.useRef)(),s=null!==(t=null==c||null===(r=c.current)||void 0===r?void 0:r.getBoundingClientRect().height)&&void 0!==t?t:0,{0:u,1:m}=(0,n.useState)(0),{0:d,1:p}=(0,n.useState)((()=>a({data:o,scrollTop:u,wrapperHeight:s,findItemIndex:i,overseen:l})));(0,n.useEffect)((()=>{p(a({data:o,scrollTop:u,wrapperHeight:s,findItemIndex:i,overseen:l}))}),[o,u,s,i,l]);return{renderIndices:d,wrapperRef:c,handleScroll:e=>{var{target:t}=e;m(t.scrollTop)}}}},87486:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ae}});var n=r(67294),a=r(53583),o=r(65746),i=r(42857),l=r(24069),c=r(15671),s=r(43144),u=r(97326),m=r(60136),d=r(82963),p=r(61120);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.Z)(e);if(t){var a=(0,p.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.Z)(this,r)}}function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},w=function(e){(0,m.Z)(r,e);var t=f(r);function r(e){var n,a;return(0,c.Z)(this,r),(n=t.call(this,e)).reCalculateColumnCount=n.reCalculateColumnCount.bind((0,u.Z)(n)),n.reCalculateColumnCountDebounce=n.reCalculateColumnCountDebounce.bind((0,u.Z)(n)),a=n.props.breakpointCols&&n.props.breakpointCols.default?n.props.breakpointCols.default:parseInt(n.props.breakpointCols)||2,n.state={columnCount:a},n}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"componentDidUpdate",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"reCalculateColumnCountDebounce",value:function(){var e=this;window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((function(){e.reCalculateColumnCount()}))):this.reCalculateColumnCount()}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});var r=1/0,n=t.default||2;for(var a in t){var o=parseInt(a);o>0&&e<=o&&o<r&&(r=o,n=t[a])}n=Math.max(1,parseInt(n)||1),this.state.columnCount!==n&&this.setState({columnCount:n})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,t=new Array(e),r=n.Children.toArray(this.props.children),a=0;a<r.length;a++){var o=a%e;t[o]||(t[o]=[]),t[o].push(r[a])}return t}},{key:"renderColumns",value:function(){var e=this.props,t=e.column,r=e.columnAttrs,a=void 0===r?{}:r,o=e.columnClassName,i=this.itemsInColumns(),l="".concat(100/i.length,"%"),c=o;c&&"string"!=typeof c&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===c&&(c="my-masonry-grid_column"));var s=v(v(v({},t),a),{},{style:v(v({},a.style),{},{width:l}),className:c});return i.map((function(e,t){return n.createElement("div",g({},s,{key:t}),e)}))}},{key:"logDeprecated",value:function(e){console.error("[Masonry]",e)}},{key:"render",value:function(){var e=this.props,t=(e.children,e.breakpointCols,e.columnClassName,e.columnAttrs,e.column,e.className),r=y(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),a=t;return"string"!=typeof t&&(this.logDeprecated('The property "className" requires a string'),void 0===t&&(a="my-masonry-grid")),n.createElement("div",g({},r,{className:a}),this.renderColumns())}}]),r}(n.Component);w.defaultProps=C;var x=w,E=(0,a.default)(x).withConfig({displayName:"Masonry__StyledMasonry",componentId:"sc-jvd8a3-0"})(["display:flex;width:auto;margin-left:-1rem;> div{padding-left:1rem;}"]),k=e=>{var{children:t,breakpointCols:r}=e;return n.createElement(E,{breakpointCols:r,columnClassName:""},t)},O=r(65830),S=r(47233),j=e=>{var{title:t,content:r}=e,{0:a,1:o}=(0,n.useState)(!1);return n.createElement(_,{expanded:a,onChange:()=>o(!a),title:t,content:r})},_=(0,a.default)(O.Z).withConfig({displayName:"CharTagMasonry__StyledAccordion",componentId:"sc-xlcyi3-0"})(["&&{margin-bottom:1rem;}border:1px solid ",";border-radius:0.25rem;box-shadow:0 0 0.15em lightgray;> .MuiAccordionSummary-root{padding:0;border-bottom-right-radius:0;border-bottom-left-radius:0;border-bottom:0px solid ",";}> .MuiAccordionSummary-root.Mui-expanded{border-bottom:1px solid ",";}.MuiAccordionSummary-content{display:flex;align-items:center;justify-content:space-between;padding:0;margin:0;}.MuiAccordionDetails-root{margin:0;padding:0;}"],(e=>{var{theme:t}=e;return t.colors.border}),(e=>{var{theme:t}=e;return t.colors.border}),(e=>{var{theme:t}=e;return t.colors.border})),Z={default:6,1360:5,1200:4,992:3,600:2},I=()=>{var{charString:e}=(0,i.f)();return n.createElement(k,{breakpointCols:Z},Object.keys(e.name).map((e=>!isNaN(e)&&n.createElement(j,{title:n.createElement(S.ZP,{id:e}),content:n.createElement(S.ac,{id:e}),key:e}))))},N=r(4942),T=r(17708),P=r(33182),D=r(70943),M=r(43521),R=r(57783),z=r(32159),A=r(772),$=r(50033),W=r(95167),L=e=>{var{data:t,itemHeight:r,headHeight:a,renderIndices:o,renderRow:i}=e;return o.slice(-1)[0]>=t.length||0===t.length?null:n.createElement(n.Fragment,null,o[0]>0?n.createElement(F,{$height:o[0]*r,key:t[0].id}):null,o.map((e=>n.createElement(n.Fragment,{key:t[e].id},i(t[e])))))},q=a.default.div.withConfig({displayName:"WindowTable__Sizer",componentId:"sc-1fg3mlg-0"})(["height:","px;th,td{white-space:nowrap;}"],(e=>{var{$height:t}=e;return t})),F=a.default.tr.withConfig({displayName:"WindowTable__VirtualRow",componentId:"sc-1fg3mlg-1"})(["height:","px;"],(e=>{var{$height:t}=e;return t})),H=e=>{var{className:t,head:r,headHeight:a,renderRow:o,data:i,itemHeight:l,overseen:c=5,sortFunc:s,defaultSortKey:u,striped:m,border:d}=e,{sortedData:p,requestSort:f,getSortDirection:y}=(0,z.Z)(i,s,{key:u,direction:"desc"}),g=(0,n.useCallback)((e=>Math.floor(e/l)),[]),{renderIndices:h,wrapperRef:v,handleScroll:b}=(0,A.Z)({data:p,findItemIndex:g,overseen:c});return n.createElement($.Z,{className:t,onScroll:b,ref:v},n.createElement(q,{$height:a+i.length*l},n.createElement(W.Z,{stickyHeader:!0,$striped:m,$border:d,size:"small"},n.cloneElement(r,{requestSort:f,getSortDirection:y}),n.createElement(R.Z,null,n.createElement(L,{data:p,itemHeight:l,headHeight:a,renderIndices:h,renderRow:o})))))},B=r(59882),K=r(5102);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Q=e=>{var{requestSort:t,getSortDirection:r}=e,{charString:a}=(0,i.f)();return n.createElement(T.Z,null,n.createElement(P.Z,{hover:!0},Object.entries(a.tagAttributes).map(((e,a)=>{var[o,i]=e;return n.createElement(V,{onClick:()=>t(o),direction:r(o),key:o},i)}))))},V=(0,a.default)(B.Re).withConfig({displayName:"CharTagTable__StyledTh",componentId:"sc-1n6agm0-0"})(["&&{background-color:",";color:",";text-align:start;}"],(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.onSecondary})),J=e=>0===e?"N":1===e?"R":2===e?"SR":"SSR",X=e=>{var{item:t}=e,{userLanguage:r,charString:a}=(0,i.f)();return t.available?n.createElement(P.Z,{hover:!0},Object.entries(t).map((e=>{var[o,i]=e;switch(o){case"available":return null;case"id":return n.createElement(D.Z,{key:o},n.createElement(S.Ps,{id:t.id,$lang:r,$type:"TABLE"}));case"rarity":return n.createElement(D.Z,{key:o},J(i));case"else":return n.createElement(D.Z,{key:o},i.map((e=>a.tags[e])).join(", "));default:return n.createElement(D.Z,{key:o},i<0?"-":a.tags[i])}}))):n.createElement(P.Z,{hover:!0},n.createElement(D.Z,null,n.createElement(S.Ps,{id:t.id,$lang:r,$type:"TABLE"})),n.createElement(D.Z,null,J(t.rarity)),n.createElement(D.Z,null,a.tags[t.attribute]),n.createElement(D.Z,null,a.tags[t.position]),n.createElement(D.Z,{colSpan:"5"},a.tagWarnMsg))},G=K.map((e=>{var{id:t,rarity:r,tags:n}=e;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,N.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:t,rarity:r},n)})),Y=(0,a.default)(H).withConfig({displayName:"CharTagTable__CharTable",componentId:"sc-1n6agm0-1"})(["overflow-x:auto;height:calc(100vh - 11rem);padding-right:0;margin-right:0;"]),ee=()=>{var{charString:e}=(0,i.f)(),[t,r]=(0,M.Z)();return n.createElement(Y,{data:G,head:n.createElement(Q,null),headHeight:48*(t>490?1:.9)+1,renderRow:e=>n.createElement(X,{item:e}),itemHeight:57.6*(t>490?1:.9)+13,sortFunc:(t,r)=>{t.sort(((t,n)=>{var a,o;return"else"===r.key?(a=t[r.key].join(""),o=n[r.key].join("")):"name"===r.key?(a=e.name[t.id],o=e.name[n.id]):(a=t[r.key],o=n[r.key]),a<o?"asc"===r.direction?-1:1:a>o?"asc"===r.direction?1:-1:0}))},defaultSortKey:"rarity",border:!0})},te=r(28437),re=e=>{var{layout:t,setLayout:r}=e,{pageString:a}=(0,i.f)();return n.createElement(ne,null,a.enlist.index.layout,n.createElement(l.ZP,{$active:"Masonry"===t,onClick:()=>r("Masonry"),tooltipText:a.enlist.index.masonryTooltip},te.xf),n.createElement(l.ZP,{$active:"Table"===t,onClick:()=>r("Table"),tooltipText:a.enlist.index.tableTooltip},te.y2))},ne=a.default.div.withConfig({displayName:"enlist__LayoutBtnContainer",componentId:"sc-199adb2-0"})(["position:absolute;right:0;top:-4rem;@media screen and (max-width:410px){font-size:0;}"]),ae=()=>{var{pageString:e}=(0,i.f)();return n.createElement(o.Z,{localStorageKey:"enlist-character-layout",layoutSwitcher:n.createElement(re,null),items:[{layout:"Masonry",content:n.createElement(I,null)},{layout:"Table",content:n.createElement(ee,null)}],initLayoutIndex:0})}},61120:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},60136:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(89611);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.Z)(e,t)}},82963:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(50008),a=r(97326);function o(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}}}]);
//# sourceMappingURL=component---src-pages-enlist-index-js-fe898e0e31c45cf9f326.js.map