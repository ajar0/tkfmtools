"use strict";(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[164],{22702:function(e,t,n){n.d(t,{Z:function(){return x}});var a=n(87462),r=n(45987),i=n(67294),o=n(85505),l=n(49044),c=n(19123),s=(0,c.Z)(i.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=(0,c.Z)(i.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=n(37595),u=(0,c.Z)(i.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=n(81664),f=n(34621),g=i.createElement(d,null),h=i.createElement(s,null),v=i.createElement(u,null),y=i.forwardRef((function(e,t){var n=e.checkedIcon,c=void 0===n?g:n,s=e.classes,d=e.color,m=void 0===d?"secondary":d,u=e.icon,f=void 0===u?h:u,y=e.indeterminate,x=void 0!==y&&y,b=e.indeterminateIcon,S=void 0===b?v:b,w=e.inputProps,E=e.size,C=void 0===E?"medium":E,Z=(0,r.Z)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),k=x?S:f,I=x?S:c;return i.createElement(l.Z,(0,a.Z)({type:"checkbox",classes:{root:(0,o.Z)(s.root,s["color".concat((0,p.Z)(m))],x&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:m,inputProps:(0,a.Z)({"data-indeterminate":x},w),icon:i.cloneElement(k,{fontSize:void 0===k.props.fontSize&&"small"===C?C:k.props.fontSize}),checkedIcon:i.cloneElement(I,{fontSize:void 0===I.props.fontSize&&"small"===C?C:I.props.fontSize}),ref:t},Z))})),x=(0,f.Z)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,m.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,m.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(y)},62846:function(e,t,n){var a=n(87462),r=n(45987),i=n(67294),o=n(85505),l=n(34621),c=n(37595),s=i.forwardRef((function(e,t){var n=e.absolute,l=void 0!==n&&n,c=e.classes,s=e.className,d=e.component,m=void 0===d?"hr":d,u=e.flexItem,p=void 0!==u&&u,f=e.light,g=void 0!==f&&f,h=e.orientation,v=void 0===h?"horizontal":h,y=e.role,x=void 0===y?"hr"!==m?"separator":void 0:y,b=e.variant,S=void 0===b?"fullWidth":b,w=(0,r.Z)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return i.createElement(m,(0,a.Z)({className:(0,o.Z)(c.root,s,"fullWidth"!==S&&c[S],l&&c.absolute,p&&c.flexItem,g&&c.light,"vertical"===v&&c.vertical),role:x,ref:t},w))}));t.Z=(0,l.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,c.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(s)},80838:function(e,t,n){var a=n(45987),r=n(87462),i=n(67294),o=n(85505),l=n(34621),c=[0,1,2,3,4,5,6,7,8,9,10],s=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var m=i.forwardRef((function(e,t){var n=e.alignContent,l=void 0===n?"stretch":n,c=e.alignItems,s=void 0===c?"stretch":c,d=e.classes,m=e.className,u=e.component,p=void 0===u?"div":u,f=e.container,g=void 0!==f&&f,h=e.direction,v=void 0===h?"row":h,y=e.item,x=void 0!==y&&y,b=e.justify,S=e.justifyContent,w=void 0===S?"flex-start":S,E=e.lg,C=void 0!==E&&E,Z=e.md,k=void 0!==Z&&Z,I=e.sm,T=void 0!==I&&I,_=e.spacing,L=void 0===_?0:_,N=e.wrap,O=void 0===N?"wrap":N,j=e.xl,P=void 0!==j&&j,F=e.xs,z=void 0!==F&&F,D=e.zeroMinWidth,R=void 0!==D&&D,H=(0,a.Z)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),M=(0,o.Z)(d.root,m,g&&[d.container,0!==L&&d["spacing-xs-".concat(String(L))]],x&&d.item,R&&d.zeroMinWidth,"row"!==v&&d["direction-xs-".concat(String(v))],"wrap"!==O&&d["wrap-xs-".concat(String(O))],"stretch"!==s&&d["align-items-xs-".concat(String(s))],"stretch"!==l&&d["align-content-xs-".concat(String(l))],"flex-start"!==(b||w)&&d["justify-content-xs-".concat(String(b||w))],!1!==z&&d["grid-xs-".concat(String(z))],!1!==T&&d["grid-sm-".concat(String(T))],!1!==k&&d["grid-md-".concat(String(k))],!1!==C&&d["grid-lg-".concat(String(C))],!1!==P&&d["grid-xl-".concat(String(P))]);return i.createElement(p,(0,r.Z)({className:M,ref:t},H))})),u=(0,l.Z)((function(e){return(0,r.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return c.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};s.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,r.Z)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(m);t.Z=u},99122:function(e,t,n){var a=n(15861),r=function(){var e=(0,a.Z)((function*(e){try{return[yield e,null]}catch(t){return[null,t]}}));return function(t){return e.apply(this,arguments)}}();t.Z=r},49963:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(67294),r=n(50009),i=n(87462),o=n(45987),l=n(85505),c=n(34621),s=n(81664),d=a.forwardRef((function(e,t){var n=e.classes,r=e.className,c=e.color,d=void 0===c?"default":c,m=e.component,u=void 0===m?"li":m,p=e.disableGutters,f=void 0!==p&&p,g=e.disableSticky,h=void 0!==g&&g,v=e.inset,y=void 0!==v&&v,x=(0,o.Z)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return a.createElement(u,(0,i.Z)({className:(0,l.Z)(n.root,r,"default"!==d&&n["color".concat((0,s.Z)(d))],y&&n.inset,!h&&n.sticky,!f&&n.gutters),ref:t},x))})),m=(0,c.Z)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(d),u=n(65541),p=n(42857),f=n(50190),g=(0,r.default)(f.Z).withConfig({displayName:"StageSelect__StyledInput",componentId:"sc-iyjsu9-0"})(["&&{margin:0.4rem 0;width:100%;svg{fill:",";}}"],(e=>e.theme.colors.onSurface)),h=(0,r.default)(m).withConfig({displayName:"StageSelect__StyledListSubheader",componentId:"sc-iyjsu9-1"})(["&&{color:",";font-size:1rem;font-style:italic;line-height:2rem;}"],(e=>e.theme.colors.onSurface)),v=e=>{var{children:t,className:n,value:i,error:o,handleChange:l}=e,{pageString:c,stageString:s}=(0,p.f)(),{colors:d}=(0,r.useTheme)();return a.createElement(g,{className:n,label:c.team.build.stageSelectLabel,id:"select-stage",onChange:l,select:!0,value:i,SelectProps:{MenuProps:{PaperProps:{style:{backgroundColor:d.surface}},MenuListProps:{style:{backgroundColor:d.surface,color:d.onSurface},dense:!0}}},variant:"outlined",size:"small",inputProps:{"aria-label":"select-stage"},error:o,helperText:o&&c.team.build.stageSelectHelpText},t,s.map((e=>{var t;return[a.createElement(h,{key:e.name},e.name),null===(t=e.stages)||void 0===t?void 0:t.map((t=>a.createElement(u.Z,{value:e.chapter+"/"+t.id,key:t.id},t.id+" : "+t.name))),e.stagePrefix&&[...Array(61).keys()].slice(1).map((t=>a.createElement(u.Z,{value:e.chapter+"/"+e.chapter+"-"+t,key:e.chapter+"-"+t},e.chapter+"-"+t+" : "+e.stagePrefix+t+e.stageSuffix)))]})))}},65746:function(e,t,n){var a=n(67294),r=n(77447);t.Z=e=>{var{className:t,layoutSwitcher:n,localStorageKey:i,items:o,initLayoutIndex:l,unmountOnLeave:c}=e,{layout:s,canRender:d,setLayout:m}=(0,r.Z)(i,o.map((e=>e.layout)),l,c);return a.createElement(a.Fragment,null,n&&a.cloneElement(n,{layout:s,setLayout:m}),o.map(((e,n)=>a.createElement("div",{className:t,hidden:s!==e.layout,key:e.layout},d[n]&&e.content))))}},35047:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var a=n(67294),r=n(50009),i=n(83332),o=n(62846),l=n(42857),c=n(65746),s=n(25072),d=n(45987),m=n(15861),u=n(25444),p=n(22702),f=n(80791),g=n(87462),h=n(85505),v=n(34621),y=a.forwardRef((function(e,t){var n=e.classes,r=e.className,i=(0,d.Z)(e,["classes","className"]);return a.createElement("div",(0,g.Z)({className:(0,h.Z)(n.root,r),ref:t},i))}));y.muiName="ListItemSecondaryAction";var x=(0,v.Z)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(y),b=n(28001),S=n(78032),w=n(57693),E=n(22727),C=n(4381),Z=(0,r.default)(C.Z).withConfig({displayName:"StyledListItem",componentId:"sc-4usy4r-0"})(["&&{margin-bottom:0.6rem;padding-right:6.8rem;color:",";}background:linear-gradient( 90deg,",","," );"],(e=>e.theme.colors.onSurface),(e=>e.theme.colors.shadow+"2A"),(e=>e.theme.colors.shadow+"0D")),k=n(93175),I=r.default.div.withConfig({displayName:"CharBox__CharContainer",componentId:"sc-1s00yss-0"})(["display:flex;flex-wrap:nowrap;overflow-x:hidden;"]),T=(0,r.default)(k.Z).withConfig({displayName:"CharBox__CharImg",componentId:"sc-1s00yss-1"})(["flex:0 0 auto;width:3rem;height:3rem;overflow:hidden;"]),_=r.default.div.withConfig({displayName:"CharBox__EmptySlot",componentId:"sc-1s00yss-2"})(["flex:0 0 auto;width:3rem;height:3rem;overflow:hidden;"]),L=e=>{var{chars:t}=e,{charString:n}=(0,l.f)(),r=!t.some((e=>null==e?void 0:e.id));return a.createElement(I,null,r?a.createElement(_,null):t.map(((e,t)=>(null==e?void 0:e.id)&&a.createElement(T,{key:t,name:"char_small_"+e.id,alt:n.name[e.id]}))))},N=n(79520),O=n(28437),j=["key"],P=()=>{var e,{pageString:t}=(0,l.f)(),{isImportingLineup:n,actions:r}=(0,b.q)(),{toggleImportLineupData:i}=r,{0:o,1:c}=(0,a.useState)(!1);return a.createElement(a.Fragment,null,a.createElement(w.Z,{button:a.createElement(F,{tooltipText:t.team.index.settingTooltip},O.qY),items:[{id:"setting-description"}],renderItem:e=>a.createElement(a.Fragment,null,a.createElement(p.Z,{edge:"start",checked:n,disableRipple:!0,inputProps:{"aria-labelledby":e.id}}),a.createElement("span",{id:e.id},t.team.index.settingDescription)),itemOnClick:()=>{i()||c(!0)},ariaId:"setting-menu"}),a.createElement(N.Z,{open:o,onClose:(e=!1,()=>c(e)),message:t.team.index.errorSnackbar,type:"error"}))},F=(0,r.default)(E.ZP).withConfig({displayName:"LocalTeamList__StyledButton",componentId:"sc-1qamej5-0"})(["&&{position:absolute;top:-3.3rem;right:0;}"]),z=r.default.div.withConfig({displayName:"LocalTeamList__NewButton",componentId:"sc-1qamej5-1"})(["display:flex;align-items:center;height:3rem;svg{width:2rem;height:2rem;fill:",";}span{margin-left:1rem;font-size:large;line-height:normal;}"],(e=>e.theme.colors.onSurface)),D=r.default.span.withConfig({displayName:"LocalTeamList__TitleText",componentId:"sc-1qamej5-2"})(["width:8rem;color:",";font-size:small;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],(e=>e.theme.colors.onSurface)),R=(0,r.default)(E.ZP).withConfig({displayName:"LocalTeamList__OperationButton",componentId:"sc-1qamej5-3"})(["svg{width:1.4rem;height:1.4rem;}"]),H=e=>{var t,{isFromPlayer:r,isFromEnemies:i,lineups:o}=e,{pageString:c,isDefault:s,userLanguage:p}=(0,l.f)(),{localTeams:g,actions:h}=(0,b.q)(),{newTeam:v,getTeam:y,selectTeam:w,pushTeam:E,deleteTeam:C}=h,{0:k,1:I}=(0,a.useState)(!1),{0:T,1:_}=(0,a.useState)(c.team.index.errorSelectSnackbar),F=(e,t)=>function(){var a=(0,m.Z)((function*(a){if(r||i){a.preventDefault();var l=yield n.e(916).then(n.bind(n,72625)).then((e=>e.data));if(e.some((e=>e.id&&(0===e.level.length||!l[e.id]))))return I(!0),void _(c.team.index.errorUnsupportedCharacter);if(e.every((e=>!e.id)))return I(!0),void _(c.team.index.errorSelectSnackbar);var m=e.filter((e=>e.id)).map((e=>{var{key:t}=e;return(0,d.Z)(e,j)})),f=r?[m,o[1]]:[o[0],m];(0,u.navigate)((s?"":"/"+p)+"/battle/",{state:{lineups:f,isFromPlayer:r,isFromEnemies:i},replace:!0})}else w(t)}));return function(e){return a.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement(P,null),a.createElement(f.Z,null,a.createElement(Z,{component:S.Z,to:"/team/build/",button:!0,key:"new",onClick:()=>v()},a.createElement(z,null,O.k8,a.createElement("span",null,c.team.index.newComposition))),null==g?void 0:g.map(((e,t)=>a.createElement(Z,{component:S.Z,to:r||i?"/battle/":"/team/build/",button:!0,key:t,onClick:F(e.characters,t)},a.createElement(D,null,e.name),a.createElement(L,{chars:e.characters}),a.createElement(x,null,a.createElement(R,{onClick:()=>E(y(t)),tooltipText:c.team.index.copyTooltip,edge:"end","aria-label":"copy-team"},O.TI),a.createElement(R,{onClick:()=>C(t),tooltipText:c.team.index.deleteTooltip,edge:"end","aria-label":"delete-team"},O.pJ)))))),a.createElement(N.Z,{open:k,onClose:(t=!1,()=>I(t)),message:T,type:"error"}))},M=n(4942),W=n(80838),B=n(65541),G=n(27136),A=n(99122);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,M.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={items:[],isFetching:!1,shouldLoad:!0},V=(e,t)=>{switch(t.type){case"PUSH":return U(U({},e),{},{items:e.items.concat(t.items)});case"UNSHIFT":return U(U({},e),{},{items:t.items.concat(e.items)});case"START_FETCHING":return U(U({},e),{},{isFetching:!0});case"END_FETCHING":return U(U({},e),{},{isFetching:!1,shouldLoad:!1});case"FLAG_SHOULD_LOAD":return U(U({},e),{},{shouldLoad:!0});case"RESET":return $;default:throw new Error("Unexpected action type")}},K=(0,r.default)(G.Z).withConfig({displayName:"InfiniteLoader__StyledSpinner",componentId:"sc-7n3n2i-0"})(["&&{display:block;margin:auto;color:",";}"],(e=>e.theme.colors.secondary)),Y=e=>{var{listenToUpdate:t,fetchItem:n,renderItem:r,shouldReset:i,onReset:o}=e,{0:l,1:c}=(0,a.useReducer)(V,$),s=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(null==s||!s.current)throw Error("bottomBoundaryRef is not assigned");var e=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&c({type:"FLAG_SHOULD_LOAD"})}))})),t=s.current;return e.observe(t),()=>{e.unobserve(t)}}),[s]),(0,a.useEffect)((()=>{if(l.shouldLoad){var e=!1,t=function(){var t=(0,m.Z)((function*(){if(!e){c({type:"START_FETCHING"});var[t,a]=yield(0,A.Z)(n());null!==t&&(a?console.log(a):0!==t.length&&c({type:"PUSH",items:t}),c({type:"END_FETCHING"}))}}));return function(){return t.apply(this,arguments)}}();return t(),()=>{e=!0}}}),[n,l.shouldLoad]),(0,a.useEffect)((()=>{var e=t((e=>{c({type:"UNSHIFT",items:e})}));if(e)return()=>e()}),[t]),(0,a.useEffect)((()=>{i&&(c({type:"RESET"}),o())}),[i,o]),a.createElement(a.Fragment,null,a.createElement(f.Z,null,l.items.map((e=>r(e))),a.createElement("div",{ref:s})),l.isFetching&&a.createElement(K,{size:32,thickness:6,disableShrink:!0}))},J=n(49963),Q=n(39770);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,M.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=e=>{var{team:t,handleSelectTeam:n}=e,{pageString:r,stageString:i,userLanguage:o}=(0,l.f)(),c=i.find((e=>e.chapter===t.chapter)),s="S"===t.chapter?c.stagePrefix+t.stage.slice(2)+c.stageSuffix:c.stages.find((e=>e.id===t.stage)).name;return a.createElement(ne,{component:S.Z,to:"/team/build/",button:!0,onClick:n(t)},a.createElement(W.Z,{container:!0,spacing:1},a.createElement(ae,{item:!0,xs:6},t.stage+" : "+s),a.createElement(ae,{item:!0,xs:6},a.createElement(re,null,r.team.index.author+" : "+t.author),a.createElement(re,null,t.time.toDate().toLocaleString(Q[o].locale,{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}))),a.createElement(ae,{item:!0,xs:12},a.createElement(L,{chars:t.characters})),0!==t.description.length&&a.createElement(ae,{item:!0,xs:12},t.description)))},ne=(0,r.default)(Z).withConfig({displayName:"CloudTeamList__StyledCloudTeamItem",componentId:"sc-1y2pxho-0"})(["&&{padding-right:1rem;user-select:text;}> div{> div:nth-child(2){justify-content:flex-end;> span:first-child{margin:0;}}> div:nth-child(4){margin-top:0.4rem;padding:0.4rem;font-size:small;background:linear-gradient( 90deg,",","," );}}"],(e=>e.theme.colors.shadow+"2A"),(e=>e.theme.colors.shadow+"0D")),ae=(0,r.default)(W.Z).withConfig({displayName:"CloudTeamList__GridItem",componentId:"sc-1y2pxho-1"})(["display:flex;align-items:center;"]),re=r.default.span.withConfig({displayName:"CloudTeamList__FootText",componentId:"sc-1y2pxho-2"})(["margin-left:1rem;font-size:0.75rem;"]),ie=(0,r.default)(J.Z).withConfig({displayName:"CloudTeamList__StyledStageSelect",componentId:"sc-1y2pxho-3"})(["&&{position:absolute;top:-3.3rem;right:0;width:30%;height:2rem;.MuiSelect-select{padding:0.5rem 2rem 0.5rem 1rem;font-size:small;}}"]),oe=()=>{var{pageString:e}=(0,l.f)(),{actions:t}=(0,b.q)(),{newTeam:r}=t,{0:i,1:o}=(0,a.useState)(null),{0:c,1:s}=(0,a.useState)({chapter:"all",stage:"all"}),{0:d,1:u}=(0,a.useState)(null),{0:p,1:f}=(0,a.useState)(null),{0:g,1:h}=(0,a.useState)(!1),v=function(){var e=(0,m.Z)((function*(){if(!d)return null;var e=p?d.startAfter(p).limit(10):d.limit(10),[t,n]=yield(0,A.Z)(e.get());if(n)throw n;var a=p?t.docs:t.docs.slice(1),r=a[a.length-1];return r?(f(r),a.map((e=>ee({id:e.id},e.data())))):[]}));return function(){return e.apply(this,arguments)}}(),y=(0,a.useCallback)((e=>{if(d)return d.limit(1).onSnapshot((t=>{var n=t.docChanges().filter((e=>"added"===e.type)).map((e=>ee({id:e.doc.id},e.doc.data())));e(n)}),(e=>{console.log(e)}))}),[d]),x=e=>()=>{var{name:t,characters:n}=e;r({name:t,characters:n})};return(0,a.useEffect)((()=>{var e=function(){var e=(0,m.Z)((function*(){o((yield Promise.all([n.e(259),n.e(378)]).then(n.bind(n,35378))).teamCollection)}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,a.useEffect)((()=>{if(i){var e=i.orderBy("time","desc");"all"!==c.chapter&&(e=e.where("chapter","==",c.chapter).where("stage","==",c.stage)),u(e)}}),[c,i]),a.createElement(a.Fragment,null,a.createElement(ie,{value:c.chapter+"/"+c.stage,handleChange:e=>{var{target:t}=e;if(t.value){var n=t.value.split("/");s({chapter:n[0],stage:n[1]}),f(null),h(!0)}}},a.createElement(B.Z,{value:"all/all"},e.team.index.allStage)),a.createElement(Y,{listenToUpdate:y,fetchItem:v,renderItem:e=>e&&a.createElement(te,{team:e,handleSelectTeam:x,key:e.id}),shouldReset:g,onReset:()=>h(!1)}))},le=["local","cloud"],ce=e=>{var{layout:t,setLayout:n}=e,{pageString:r}=(0,l.f)();return a.createElement(se,null,le.map((e=>a.createElement(de,{$active:t===e,onClick:()=>n(e),key:e},r.team.index.tabs[e]))))},se=r.default.div.withConfig({displayName:"team__TabsWrapper",componentId:"sc-91g1dd-0"})(["position:absolute;top:0.5rem;"]),de=(0,r.default)(i.Z).withConfig({displayName:"team__StyledTab",componentId:"sc-91g1dd-1"})(["&&{color:",";font-size:large;}"],(e=>e.theme.colors.onSurface+(e.$active?"":"80"))),me=r.default.div.withConfig({displayName:"team__PageWrapper",componentId:"sc-91g1dd-2"})(["position:relative;max-width:1000px;margin:auto;"]),ue=(0,r.default)(s.ZP).withConfig({displayName:"team__StyledHeader",componentId:"sc-91g1dd-3"})(["position:relative;left:-1rem;width:100%;height:3.6rem;margin:0;padding:0 0 0.5rem 1rem;border:none;label{margin-right:0.6rem;font-size:large;}> div:last-child{position:relative;bottom:-0.4rem;right:-1rem;}"]),pe=(0,r.default)(o.Z).withConfig({displayName:"team__StyledDivider",componentId:"sc-91g1dd-4"})(["&&{background-color:",";}"],(e=>e.theme.colors.dropdownHover)),fe=(0,r.default)(c.Z).withConfig({displayName:"team__TabPanel",componentId:"sc-91g1dd-5"})(["position:relative;"]),ge=e=>{var t,n,r,i,o,c,{location:s}=e,{pageString:d}=(0,l.f)();return a.createElement(me,null,a.createElement(ue,{title:null!==(t=s.state)&&void 0!==t&&t.isFromPlayer||null!==(n=s.state)&&void 0!==n&&n.isFromEnemies?d.team.index.selectTeam:null}),a.createElement(pe,null),a.createElement(fe,{localStorageKey:"team-list-tab",layoutSwitcher:!(null!==(r=s.state)&&void 0!==r&&r.isFromPlayer||null!==(i=s.state)&&void 0!==i&&i.isFromEnemies)&&a.createElement(ce,null),items:[{layout:"local",content:a.createElement(H,s.state)},{layout:"cloud",content:null!==(o=s.state)&&void 0!==o&&o.isFromPlayer||null!==(c=s.state)&&void 0!==c&&c.isFromEnemies?a.createElement(H,s.state):a.createElement(oe,null)}],initLayoutIndex:0}))}}}]);
//# sourceMappingURL=component---src-pages-team-index-js-df63c43eb33bb5fddbae.js.map