{"version":3,"file":"component---src-pages-analysis-index-js-b0c2e91afcde96d6e0f7.js","mappings":"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","sources":["webpack://tkfmtools/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://tkfmtools/./src/components/Modal.js","webpack://tkfmtools/./src/components/PotentialInput.js","webpack://tkfmtools/./src/containers/Scrollable.js","webpack://tkfmtools/./src/data/charMap.js","webpack://tkfmtools/./src/hooks/useCharacterSelect.js","webpack://tkfmtools/./src/data/charByPosition.js","webpack://tkfmtools/./src/pages/analysis/index.js","webpack://tkfmtools/./src/utils/calcCharStats.js"],"sourcesContent":["var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Backdrop, Fade, Modal as MuiModal } from \"@mui/material\";\r\nimport Scrollable from \"containers/Scrollable\";\r\nimport Header from \"components/Header\";\r\n\r\nexport const Modal = ({\r\n  children,\r\n  className,\r\n  title,\r\n  open,\r\n  onClose,\r\n  keepMounted,\r\n  ariaLabelledby,\r\n  ariaDescribedby,\r\n}) => (\r\n  <MuiModal\r\n    className={className}\r\n    open={open}\r\n    onClose={onClose}\r\n    closeAfterTransition\r\n    BackdropComponent={Backdrop}\r\n    BackdropProps={{ timeout: 500 }}\r\n    disableEnforceFocus\r\n    keepMounted={keepMounted}\r\n    aria-labelledby={ariaLabelledby}\r\n    aria-describedby={ariaDescribedby}\r\n  >\r\n    <Fade in={open}>\r\n      <ModalContentWrapper>\r\n        <ModalHeader\r\n          title={title}\r\n          id={ariaLabelledby}\r\n          end={<CloseWrapper onClick={onClose}>&times;</CloseWrapper>}\r\n        />\r\n        {children}\r\n      </ModalContentWrapper>\r\n    </Fade>\r\n  </MuiModal>\r\n);\r\n\r\nconst ModalContentWrapper = styled.div`\r\n  position: absolute;\r\n  top: 10%;\r\n  bottom: auto;\r\n  left: 0;\r\n  right: 0;\r\n  width: 70%;\r\n  @media screen and (max-width: 1000px) {\r\n    width: 80%;\r\n  }\r\n  @media screen and (max-width: 768px) {\r\n    width: 90%;\r\n  }\r\n  height: auto;\r\n  margin: auto;\r\n  padding: 1rem;\r\n  background-color: ${({ theme }) => theme.colors.surface};\r\n  color: ${({ theme }) => theme.colors.onSurface};\r\n  border-radius: 0.25rem;\r\n  border: 1px solid ${({ theme }) => theme.colors.border};\r\n`;\r\nconst ModalHeader = styled(Header)`\r\n  margin: -1rem;\r\n  margin-bottom: 1rem;\r\n  padding: 0.2rem 0.5rem;\r\n  color: ${({ theme }) => theme.colors.onSecondary};\r\n  background-color: ${({ theme }) => theme.colors.secondary};\r\n`;\r\nconst CloseWrapper = styled.span`\r\n  cursor: pointer;\r\n  font-size: x-large;\r\n`;\r\n\r\nexport const ScrollableModal = ({\r\n  children,\r\n  className,\r\n  title,\r\n  open,\r\n  onClose,\r\n  keepMounted,\r\n  ariaLabelledby,\r\n  ariaDescribedby,\r\n}) => (\r\n  <StyledScrollableModal\r\n    className={className}\r\n    title={title}\r\n    open={open}\r\n    onClose={onClose}\r\n    keepMounted={keepMounted}\r\n    ariaLabelledby={ariaLabelledby}\r\n    ariaDescribedby={ariaDescribedby}\r\n  >\r\n    <Scrollable>{children}</Scrollable>\r\n  </StyledScrollableModal>\r\n);\r\n\r\nconst StyledScrollableModal = styled(Modal)`\r\n  > div:nth-child(3) > div {\r\n    max-height: calc(80vh - 2rem);\r\n  }\r\n`;\r\n\r\nconst TextModalContent = ({ content, ariaDescribedby }) =>\r\n  content.map((item, ind) => (\r\n    <React.Fragment key={ind}>\r\n      <Header title={item.title} border />\r\n      <ModalBody>\r\n        {item.content.map((text, ind) => (\r\n          <p key={ind} id={ariaDescribedby + \"_\" + ind}>\r\n            {text}\r\n          </p>\r\n        ))}\r\n      </ModalBody>\r\n    </React.Fragment>\r\n  ));\r\n\r\nconst ModalBody = styled.div`\r\n  margin: 1rem 0;\r\n`;\r\n\r\nexport const TextModal = ({\r\n  title,\r\n  content,\r\n  open,\r\n  onClose,\r\n  ariaLabelledby,\r\n  ariaDescribedby,\r\n}) => (\r\n  <ScrollableModal\r\n    title={title}\r\n    open={open}\r\n    onClose={onClose}\r\n    ariaLabelledby={ariaLabelledby}\r\n    ariaDescribedby={[...Array(content.length).keys()]\r\n      .map((i) => ariaDescribedby + \"_\" + i)\r\n      .join(\" \")}\r\n  >\r\n    <TextModalContent content={content} ariaDescribedby={ariaDescribedby} />\r\n  </ScrollableModal>\r\n);\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport styled, { useTheme } from \"styled-components\";\r\nimport { Checkbox, Grid } from \"@mui/material\";\r\nimport { useLanguage } from \"containers/LanguageProvider\";\r\nimport Input, { Select } from \"components/Input\";\r\nimport charMap from \"data/charMap\";\r\nimport potentialData from \"data/potential.json\";\r\n\r\nconst PotentialInput = ({\r\n  className,\r\n  charId,\r\n  values,\r\n  mainValue,\r\n  subValue,\r\n  onMainChange,\r\n  onSubChange,\r\n  ...rest\r\n}) => {\r\n  const { colors } = useTheme();\r\n  const { pageString } = useLanguage();\r\n\r\n  const { potentialType } = charMap[charId];\r\n\r\n  const potentialStage = potentialData.type[potentialType][mainValue - 1];\r\n  const buffs = potentialStage\r\n    ? potentialStage.pattern.map((p) => potentialData.itemMap[p].type)\r\n    : Array(6).fill(\"ATK\");\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <StyledInput\r\n        select\r\n        SelectProps={{\r\n          multiple: true,\r\n          value: subValue,\r\n          renderValue: () => mainValue,\r\n          MenuProps: {\r\n            PaperProps: {\r\n              style: {\r\n                backgroundColor: colors.surface,\r\n              },\r\n            },\r\n            MenuListProps: {\r\n              style: {\r\n                width: \"12rem\",\r\n                padding: \".5rem\",\r\n                backgroundColor: colors.surface,\r\n                color: colors.onSurface,\r\n              },\r\n              dense: true,\r\n            },\r\n          },\r\n        }}\r\n        {...rest}\r\n        variant=\"outlined\"\r\n      >\r\n        <Grid container>\r\n          <Grid item xs={12}>\r\n            <Title>{pageString.analysis.index.primaryPotentialTitle}</Title>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            component={StyledSelect}\r\n            values={values}\r\n            value={mainValue}\r\n            onChange={onMainChange}\r\n          />\r\n          <Grid item xs={12}>\r\n            <Title>{pageString.analysis.index.secondaryPotentialTitle}</Title>\r\n          </Grid>\r\n          {subValue.map((boolean, ind) => (\r\n            <CheckboxGrid\r\n              item\r\n              key={ind}\r\n              xs={2}\r\n              component={StyledCheckbox}\r\n              checked={boolean}\r\n              onChange={onSubChange(ind)}\r\n              disableRipple\r\n              inputProps={{ \"aria-label\": \"potential-substage\" + ind }}\r\n              $type={buffs[ind]}\r\n            />\r\n          ))}\r\n        </Grid>\r\n      </StyledInput>\r\n      {subValue.map((boolean, ind) => (\r\n        <Indicator $checked={boolean} key={ind} $type={buffs[ind]} />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`;\r\nconst StyledInput = styled(Input)`\r\n  width: 100%;\r\n  svg {\r\n    right: 0;\r\n    fill: ${({ theme, disabled }) =>\r\n      disabled ? theme.colors.dropdownHover : theme.colors.onSurface};\r\n  }\r\n`;\r\nconst StyledSelect = styled(Select)`\r\n  margin: 0.3rem;\r\n`;\r\nconst Title = styled.span`\r\n  margin-left: 0.4rem;\r\n  font-size: 75%;\r\n`;\r\nconst CheckboxGrid = styled(Grid)`\r\n  &&.Mui-checked svg {\r\n    fill: ${({ theme, $type }) =>\r\n      theme.chart.colors[$type === \"ATK\" ? 0 : $type === \"HP\" ? 2 : 4]};\r\n  }\r\n`;\r\nconst StyledCheckbox = styled(Checkbox)`\r\n  padding: 0;\r\n  svg {\r\n    fill: ${({ theme }) => theme.colors.dropdownHover};\r\n  }\r\n`;\r\nconst Indicator = styled.span`\r\n  display: inline-block;\r\n  position: relative;\r\n  top: -0.6rem;\r\n  width: calc(100% / 6 - 4px);\r\n  height: 4px;\r\n  margin: 0 2px;\r\n  background-color: ${({ theme, $checked, $type }) =>\r\n    !$checked\r\n      ? theme.colors.dropdownHover\r\n      : theme.chart.colors[$type === \"ATK\" ? 0 : $type === \"HP\" ? 2 : 4]};\r\n`;\r\n\r\nexport default PotentialInput;\r\n","import styled from \"styled-components\";\r\n\r\nconst Scrollable = styled.div`\r\n  overflow: auto;\r\n  height: 100%;\r\n  scrollbar-width: thin;\r\n  padding-right: 0.5rem;\r\n  margin-right: -0.5rem;\r\n  &::-webkit-scrollbar {\r\n    width: 0.4rem;\r\n    height: 0.4rem;\r\n    background: ${({ theme }) => theme.colors.surface};\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: ${({ theme }) => theme.colors.border};\r\n    border-radius: 0.25rem;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: ${({ theme }) => theme.colors.surface};\r\n  }\r\n  &::-webkit-scrollbar-corner {\r\n    background: ${({ theme }) => theme.colors.surface};\r\n  }\r\n`;\r\n\r\nexport default Scrollable;\r\n","const charData = require(\"./character.json\");\r\n\r\nconst charMap = charData.reduce((map, c) => {\r\n  const { id, ...rest } = c;\r\n  map[id] = rest;\r\n  return map;\r\n}, {});\r\n\r\nmodule.exports = charMap;\r\n","import { useCallback, useState } from \"react\";\r\nimport charMap from \"data/charMap\";\r\n\r\nconst getCharSelects = (charState) => {\r\n  const { rarity } = charMap[charState.id];\r\n  const isNCharacter = rarity === 0;\r\n  return {\r\n    star: {\r\n      imgNames:\r\n        \"ui_star_\" +\r\n        (rarity === 3 ? \"ssr\" : rarity === 2 ? \"sr\" : rarity === 1 ? \"r\" : \"n\"),\r\n      values: [...Array(6).keys()].slice(rarity),\r\n      disabled: false,\r\n    },\r\n    bond: {\r\n      imgNames: \"ui_bond_\" + charState.bond,\r\n      values: [...Array(6).keys()].slice(1),\r\n      disabled: false,\r\n    },\r\n    discipline: {\r\n      imgNames: \"ui_discipline\",\r\n      values: isNCharacter ? [\"-\"] : [...Array(4).keys()],\r\n      disabled: isNCharacter,\r\n    },\r\n    potential: {\r\n      imgNames: \"ui_potentialPassive\",\r\n      values: [...Array(rarity < 2 ? 7 : 13).keys()].slice(1),\r\n      disabled: false,\r\n    },\r\n    potentialSub: {\r\n      imgNames: undefined,\r\n      values: Array(6).fill(false),\r\n      disabled: false,\r\n    },\r\n  };\r\n};\r\n\r\nconst convertLegacyData = (charState) => {\r\n  if (typeof charState.potentialSub !== \"object\") {\r\n    const newPotentialSub = [...Array(6).keys()].map(\r\n      (i) => i < charState.potentialSub\r\n    );\r\n    charState.potentialSub = newPotentialSub;\r\n  }\r\n\r\n  return charState;\r\n};\r\n\r\nconst useCharacterSelect = (initCharState, onSelect) => {\r\n  const [state, setState] = useState({\r\n    charState: convertLegacyData(initCharState),\r\n    selectItems: getCharSelects(initCharState),\r\n  });\r\n\r\n  const setSelect = useCallback(\r\n    (key, value) => {\r\n      const newCharState = { ...state.charState };\r\n\r\n      let validatedValue = value;\r\n      // validate state values\r\n      if (key === \"level\") {\r\n        validatedValue = isNaN(value)\r\n          ? \"\"\r\n          : value < 1\r\n          ? 1\r\n          : value > 60\r\n          ? 60\r\n          : value;\r\n      } else if (key === \"potentialSub\") {\r\n        validatedValue = Array.from(newCharState.potentialSub);\r\n        // value as index\r\n        validatedValue[value] = !validatedValue[value];\r\n      }\r\n\r\n      newCharState[key] = validatedValue;\r\n\r\n      const newCharSelects = getCharSelects(newCharState);\r\n\r\n      Object.entries(newCharSelects).forEach(([type, item]) => {\r\n        if (type === \"potentialSub\") {\r\n          return true;\r\n        }\r\n\r\n        const values = item.values;\r\n        if (!values.includes(newCharState[type])) {\r\n          newCharState[type] = values[0];\r\n        }\r\n      });\r\n\r\n      setState({\r\n        charState: newCharState,\r\n        selectItems: newCharSelects,\r\n      });\r\n\r\n      onSelect(newCharState);\r\n    },\r\n    [state, onSelect]\r\n  );\r\n\r\n  const setCharState = useCallback(\r\n    (charState) =>\r\n      setState({\r\n        charState: convertLegacyData(charState),\r\n        selectItems: getCharSelects(charState),\r\n      }),\r\n    []\r\n  );\r\n\r\n  return { ...state, setSelect, setCharState };\r\n};\r\n\r\nexport default useCharacterSelect;\r\n","import charsData from \"data/character.json\";\r\n\r\nconst charByPosition = charsData.reduce(\r\n  (newData, c, i) => {\r\n    newData[c.tags.position - 5].push({ id: c.id, ind: i });\r\n    return newData;\r\n  },\r\n  [...Array(5)].map((i) => [])\r\n);\r\n\r\nexport default charByPosition;\r\n","import React, { useCallback, useEffect, useReducer, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button, Grid } from \"@mui/material\";\r\nimport useCharacterSelect from \"hooks/useCharacterSelect\";\r\nimport { useLineupData } from \"containers/LineupDataProvider\";\r\nimport { useLanguage } from \"containers/LanguageProvider\";\r\nimport ImageSupplier from \"components/ImageSupplier\";\r\nimport Input, { Select } from \"components/Input\";\r\nimport PotentialInput from \"components/PotentialInput\";\r\nimport Header from \"components/Header\";\r\nimport IconButton from \"components/IconButton\";\r\nimport { SaveIcon, LoadIcon, DeleteIcon } from \"components/icon\";\r\nimport Snackbar from \"components/Snackbar\";\r\nimport { ScrollableModal, TextModal } from \"components/Modal\";\r\nimport calcCharStats from \"utils/calcCharStats\";\r\nimport charByPositionData from \"data/charByPosition\";\r\nimport charMap from \"data/charMap\";\r\n\r\nconst CharContainer = ({ index }) => {\r\n  const { pageString, charString } = useLanguage();\r\n\r\n  const { currentLineup, actions } = useLineupData();\r\n  const { setCurrentLineup } = actions;\r\n\r\n  const charState = currentLineup[index];\r\n  const { rarity } = charMap[charState.id];\r\n\r\n  const onSelect = useCallback(\r\n    (newCharState) => {\r\n      const newLineup = Array.from(currentLineup);\r\n\r\n      newLineup[index] = {\r\n        ...newCharState,\r\n        ...calcCharStats(newCharState),\r\n        owned: newCharState.level !== 0,\r\n      };\r\n\r\n      setCurrentLineup(newLineup);\r\n    },\r\n    [currentLineup[index], setCurrentLineup]\r\n  );\r\n\r\n  const { selectItems, setSelect, setCharState } = useCharacterSelect(\r\n    charState,\r\n    onSelect\r\n  );\r\n\r\n  useEffect(() => {\r\n    setCharState(charState);\r\n  }, [charState]);\r\n\r\n  const handleBtnClick = useCallback(() => {\r\n    const newLineup = Array.from(currentLineup);\r\n\r\n    newLineup[index].owned = !newLineup[index].owned;\r\n\r\n    setCurrentLineup(newLineup);\r\n  }, [currentLineup[index], setCurrentLineup]);\r\n\r\n  const handleSelectChange = useCallback(\r\n    (key) => (event) => {\r\n      setSelect(key, parseInt(event.target.value));\r\n    },\r\n    [setSelect]\r\n  );\r\n\r\n  const handleSubChange = useCallback(\r\n    (index) => () => {\r\n      setSelect(\"potentialSub\", index);\r\n    },\r\n    [setSelect]\r\n  );\r\n\r\n  return (\r\n    <StyledCharContainer item xs={10} sm={6} md={5} lg={4}>\r\n      <CharImgWrapper\r\n        onClick={handleBtnClick}\r\n        $owned={charState.owned}\r\n        disableRipple\r\n        disableFocusRipple\r\n      >\r\n        <CharImg\r\n          name={`char_small_${charState.id}`}\r\n          alt={charString.name[charState.id]}\r\n        />\r\n      </CharImgWrapper>\r\n      <SelectGrid container spacing={1}>\r\n        <SelectWrapper item xs={6}>\r\n          <LevelInput\r\n            label={pageString.analysis.index.levelTitle}\r\n            value={charState.level}\r\n            onChange={handleSelectChange(\"level\")}\r\n            disabled={!charState.owned}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            margin=\"dense\"\r\n          />\r\n        </SelectWrapper>\r\n        <SelectWrapper item xs={6}>\r\n          <StyledSelect\r\n            label={pageString.analysis.index.disciplineTitle}\r\n            values={selectItems.discipline.values}\r\n            value={rarity === 0 ? \"-\" : charState.discipline}\r\n            onChange={handleSelectChange(\"discipline\")}\r\n            disabled={!charState.owned || rarity === 0}\r\n            margin=\"dense\"\r\n          />\r\n        </SelectWrapper>\r\n        <SelectWrapper item xs={6}>\r\n          <StyledSelect\r\n            label={pageString.analysis.index.starTitle}\r\n            values={selectItems.star.values}\r\n            value={charState.star}\r\n            onChange={handleSelectChange(\"star\")}\r\n            disabled={!charState.owned}\r\n            margin=\"dense\"\r\n          />\r\n        </SelectWrapper>\r\n        <SelectWrapper item xs={6}>\r\n          <PotentialInput\r\n            charId={charState.id}\r\n            label={pageString.analysis.index.potentialTitle}\r\n            values={selectItems.potential.values}\r\n            mainValue={charState.potential}\r\n            subValue={charState.potentialSub}\r\n            onMainChange={handleSelectChange(\"potential\")}\r\n            onSubChange={handleSubChange}\r\n            disabled={!charState.owned}\r\n            margin=\"dense\"\r\n          />\r\n        </SelectWrapper>\r\n      </SelectGrid>\r\n    </StyledCharContainer>\r\n  );\r\n};\r\n\r\nconst StyledCharContainer = styled(Grid)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  max-width: 30rem;\r\n`;\r\nconst CharImgWrapper = styled(Button)`\r\n  ${({ $owned }) => ($owned ? null : \"filter: grayscale(100%);\")}\r\n  transition: filter 0.1s ease;\r\n`;\r\nconst CharImg = styled(ImageSupplier)`\r\n  width: 7rem;\r\n  height: 7rem;\r\n`;\r\nconst LevelInput = styled(Input)`\r\n  input {\r\n    padding: 0.6rem 1rem;\r\n  }\r\n  color: ${({ theme, disabled }) =>\r\n    disabled ? theme.colors.dropdownHover : \"inherit\"};\r\n`;\r\nconst StyledSelect = styled(Select)`\r\n  width: 100%;\r\n  .MuiSelect-select {\r\n    color: ${({ theme, disabled }) =>\r\n      disabled ? theme.colors.dropdownHover : \"inherit\"};\r\n  }\r\n  svg {\r\n    fill: ${({ theme, disabled }) =>\r\n      disabled ? theme.colors.dropdownHover : theme.colors.onSurface};\r\n  }\r\n`;\r\nconst SelectGrid = styled(Grid)`\r\n  align-content: center;\r\n`;\r\nconst SelectWrapper = styled(Grid)`\r\n  height: 40%;\r\n`;\r\n\r\nconst DataManageButtons = ({ dispatch, handleData }) => {\r\n  const { pageString } = useLanguage();\r\n\r\n  return (\r\n    <DataButtonContainer>\r\n      <IconButton\r\n        onClick={() => handleData(\"SAVE_DATA\")}\r\n        tooltipText={pageString.analysis.index.saveButton}\r\n      >\r\n        {SaveIcon}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={() => dispatch({ type: \"HANDLE_DATA_MODAL\", open: true })}\r\n        tooltipText={pageString.analysis.index.loadButton}\r\n      >\r\n        {LoadIcon}\r\n      </IconButton>\r\n    </DataButtonContainer>\r\n  );\r\n};\r\n\r\nconst DataButtonContainer = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: -4rem;\r\n  margin-bottom: 0;\r\n  > span:last-child button {\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst ModalContent = ({ handleData }) => {\r\n  const { pageString } = useLanguage();\r\n\r\n  const { localLineups } = useLineupData();\r\n\r\n  return localLineups?.length !== 0 ? (\r\n    localLineups.map((d, ind) => (\r\n      <Header\r\n        title={d.date}\r\n        end={\r\n          <>\r\n            <IconButton\r\n              onClick={() => handleData(\"LOAD_DATA\", ind)}\r\n              tooltipText={pageString.analysis.index.loadButton}\r\n            >\r\n              {LoadIcon}\r\n            </IconButton>\r\n            <IconButton\r\n              onClick={() => handleData(\"DELETE_DATA\", ind)}\r\n              tooltipText={pageString.analysis.index.deleteButton}\r\n            >\r\n              {DeleteIcon}\r\n            </IconButton>\r\n          </>\r\n        }\r\n        key={ind}\r\n      />\r\n    ))\r\n  ) : (\r\n    <div>{pageString.analysis.index.noData}</div>\r\n  );\r\n};\r\n\r\nconst positionImg = [\r\n  \"attacker\",\r\n  \"defender\",\r\n  \"healer\",\r\n  \"obsructer\",\r\n  \"supporter\",\r\n];\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"HANDLE_SUCCESS_SNACKBAR\":\r\n      return { ...state, isSuccessSnackbarOpen: action.open };\r\n    case \"HANDLE_ERROR_SNACKBAR\":\r\n      return { ...state, isErrorSnackbarOpen: action.open };\r\n    case \"HANDLE_DATA_MODAL\":\r\n      return { ...state, isDataModalOpen: action.open };\r\n    case \"HANDLE_HELP_MODAL\":\r\n      return { ...state, isHelpModalOpen: action.open };\r\n    default:\r\n      throw new Error(`Unknown action type: ${action.type}`);\r\n  }\r\n};\r\n\r\nconst Index = () => {\r\n  const { pageString, charString } = useLanguage();\r\n\r\n  const { currentLineup, actions } = useLineupData();\r\n  const { pushLineup, getLineup, deleteLineup, setCurrentLineup } = actions;\r\n\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    isDataModalOpen: false,\r\n    isHelpModalOpen: false,\r\n    isSuccessSnackbarOpen: false,\r\n    isErrorSnackbarOpen: false,\r\n  });\r\n\r\n  const handleData = useCallback(\r\n    (type, dataIndex) => {\r\n      switch (type) {\r\n        case \"SAVE_DATA\":\r\n          if (pushLineup(currentLineup, { firebase: true })) {\r\n            dispatch({ type: \"HANDLE_SUCCESS_SNACKBAR\", open: true });\r\n            return;\r\n          }\r\n          break;\r\n        case \"LOAD_DATA\":\r\n          const loadedData = getLineup(dataIndex);\r\n\r\n          if (loadedData) {\r\n            setCurrentLineup(loadedData);\r\n\r\n            dispatch({ type: \"HANDLE_SUCCESS_SNACKBAR\", open: true });\r\n            dispatch({ type: \"HANDLE_DATA_MODAL\", open: false });\r\n            return;\r\n          }\r\n          break;\r\n        case \"DELETE_DATA\":\r\n          if (deleteLineup(dataIndex)) {\r\n            dispatch({ type: \"HANDLE_SUCCESS_SNACKBAR\", open: true });\r\n            return;\r\n          }\r\n          return;\r\n        default:\r\n          throw new Error(`Unknown action type: ${type}`);\r\n      }\r\n\r\n      dispatch({ type: \"HANDLE_ERROR_SNACKBAR\", open: true });\r\n    },\r\n    [currentLineup, setCurrentLineup, getLineup, pushLineup, deleteLineup]\r\n  );\r\n\r\n  return (\r\n    <CharGroupsContainer>\r\n      <DataManageButtons dispatch={dispatch} handleData={handleData} />\r\n      {charByPositionData.map((group, ind) => (\r\n        <React.Fragment key={ind}>\r\n          <Header\r\n            title={\r\n              <span>\r\n                <PositionImgWrapper name={`ui_${positionImg[ind]}`} alt=\"\" />\r\n                {charString.tags[ind + 5]}\r\n              </span>\r\n            }\r\n            withHelp={ind === 0}\r\n            onClickHelp={() =>\r\n              dispatch({ type: \"HANDLE_HELP_MODAL\", open: true })\r\n            }\r\n            border\r\n          />\r\n          <Grid container spacing={2}>\r\n            {group.map((c) => (\r\n              <CharContainer index={c.ind} key={c.id} />\r\n            ))}\r\n          </Grid>\r\n        </React.Fragment>\r\n      ))}\r\n      <Snackbar\r\n        open={state.isSuccessSnackbarOpen}\r\n        onClose={() =>\r\n          dispatch({ type: \"HANDLE_SUCCESS_SNACKBAR\", open: false })\r\n        }\r\n        message={pageString.analysis.index.successMsg}\r\n        type=\"success\"\r\n      />\r\n      <Snackbar\r\n        open={state.isErrorSnackbarOpen}\r\n        onClose={() => dispatch({ type: \"HANDLE_ERROR_SNACKBAR\", open: false })}\r\n        message={pageString.analysis.index.errorMsg}\r\n        type=\"error\"\r\n      />\r\n      <ScrollableModal\r\n        title={pageString.analysis.index.modalTitle}\r\n        open={state.isDataModalOpen}\r\n        onClose={() => dispatch({ type: \"HANDLE_DATA_MODAL\", open: false })}\r\n        ariaLabelledby=\"data-operation-modal-title\"\r\n        ariaDescribedby=\"data-operation-modal-description\"\r\n      >\r\n        <ModalContent handleData={handleData} />\r\n      </ScrollableModal>\r\n      <TextModal\r\n        title={pageString.analysis.index.helpModal.title}\r\n        content={pageString.analysis.index.helpModal.content}\r\n        open={state.isHelpModalOpen}\r\n        onClose={() => dispatch({ type: \"HANDLE_HELP_MODAL\", open: false })}\r\n        ariaLabelledby=\"help-modal-title\"\r\n        ariaDescribedby=\"help-modal-description\"\r\n      />\r\n    </CharGroupsContainer>\r\n  );\r\n};\r\n\r\nconst CharGroupsContainer = styled.div`\r\n  width: 100%;\r\n  > div:nth-child(even) > div > span {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 0.4rem;\r\n  }\r\n  > div:nth-child(2) > div {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\nconst PositionImgWrapper = styled(ImageSupplier)`\r\n  width: 2rem;\r\n  height: 2rem;\r\n  margin-right: 0.2rem;\r\n`;\r\n\r\nexport default Index;\r\n","const charData = require(\"../data/character.json\");\r\nconst potentialData = require(\"../data/potential.json\");\r\n\r\nconst calcCharPotential = (id, from, to, potentialType) => {\r\n  const result = {\r\n    items: {},\r\n    money: 0,\r\n    buff: { ATK: 0, HP: 0, PASSIVE: 0 },\r\n  };\r\n\r\n  if (from[0] > to[0]) {\r\n    return result;\r\n  }\r\n\r\n  let type;\r\n  if (id === \"nr\") {\r\n    type = 3;\r\n  } else {\r\n    const { rarity, potentialType: cPotentialType } = charData.find(\r\n      (c) => c.id === id\r\n    );\r\n    type = rarity < 2 ? 3 : potentialType ?? cPotentialType;\r\n  }\r\n\r\n  const stages = potentialData.type[type];\r\n  for (let i = from[0] - 1; i < to[0] - 1 + 1; i++) {\r\n    let stage = stages[i];\r\n    for (\r\n      let j = i === from[0] - 1 ? from[1] - 1 : 0;\r\n      j < (i === to[0] - 1 ? to[1] : 6);\r\n      j++\r\n    ) {\r\n      if (j < 0) continue;\r\n\r\n      let id = stage.pattern[j] + stage.rank[j];\r\n      if (result.items[id]) {\r\n        result.items[id] += stage.num[j];\r\n      } else {\r\n        result.items[id] = stage.num[j];\r\n      }\r\n      result.money += (i + 1) * 8000;\r\n      let buff = potentialData.itemMap[stage.pattern[j]].type;\r\n      result.buff[buff] += stage.buff[j];\r\n    }\r\n  }\r\n  // parse result\r\n  let parsedItem = {};\r\n  for (const [key, value] of Object.entries(result.items)) {\r\n    let itemId = potentialData.itemMap[key[0]].id.map((id) =>\r\n      key[1] === \"9\"\r\n        ? \"902\"\r\n        : key[1] === \"8\"\r\n        ? \"901\"\r\n        : (parseInt(key[1]) * 100 + id).toString()\r\n    );\r\n    for (let i of itemId) {\r\n      if (parsedItem[i]) {\r\n        parsedItem[i] += value;\r\n      } else {\r\n        parsedItem[i] = value;\r\n      }\r\n    }\r\n  }\r\n\r\n  result.items = parsedItem;\r\n  return result;\r\n};\r\n\r\nconst calcCharStats = ({\r\n  id,\r\n  level,\r\n  potential,\r\n  potentialSub,\r\n  discipline,\r\n  star,\r\n}) => {\r\n  const { rarity, stats } = charData.find((c) => c.id === id);\r\n  if (rarity < 2 && potential > 6) {\r\n    throw new Error(`invalid potential: ${potential}`);\r\n  }\r\n  if (rarity === 0 && +discipline > 0) {\r\n    throw new Error(`invalid discipline: ${discipline}`);\r\n  }\r\n\r\n  const { initATK, initHP } = stats;\r\n\r\n  const levelBuff = 1.1 ** (level - 1);\r\n\r\n  // deal with legacy data\r\n  let validPotentialSub = potentialSub;\r\n  if (typeof potentialSub !== \"object\") {\r\n    validPotentialSub = [...Array(6).keys()].map((i) => i < potentialSub);\r\n  }\r\n\r\n  const buff = validPotentialSub.reduce((res, boolean, i) => {\r\n    if (boolean) {\r\n      const newRes = calcCharPotential(\r\n        id,\r\n        [potential, i + 1],\r\n        [potential, i + 1]\r\n      ).buff;\r\n      res.ATK += newRes.ATK;\r\n      res.HP += newRes.HP;\r\n    }\r\n    return res;\r\n  }, calcCharPotential(id, [1, 0], [potential - 1, 6]).buff);\r\n\r\n  const disciplineBuff =\r\n    1 +\r\n    (isNaN(parseInt(discipline)) ? 0 : +discipline * (+discipline + 1) * 0.025);\r\n  const starBuff = (star + 5) / (rarity + 5);\r\n\r\n  return {\r\n    ATK: Math.floor(\r\n      initATK * levelBuff * (1 + buff.ATK / 100) * disciplineBuff * starBuff\r\n    ),\r\n    HP: Math.floor(\r\n      initHP * levelBuff * (1 + buff.HP / 100) * disciplineBuff * starBuff\r\n    ),\r\n  };\r\n};\r\n\r\nmodule.exports = calcCharStats;\r\nmodule.exports.calcCharPotential = calcCharPotential;\r\n"],"names":["objectWithoutPropertiesLoose","module","exports","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","__esModule","Modal","children","className","title","open","onClose","keepMounted","ariaLabelledby","ariaDescribedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","disableEnforceFocus","in","ModalContentWrapper","ModalHeader","id","end","CloseWrapper","onClick","styled","theme","colors","surface","onSurface","border","Header","onSecondary","secondary","ScrollableModal","StyledScrollableModal","TextModalContent","content","map","item","ind","ModalBody","text","TextModal","Array","keys","join","Wrapper","StyledInput","Input","disabled","dropdownHover","StyledSelect","Select","Title","CheckboxGrid","Grid","$type","chart","StyledCheckbox","Checkbox","Indicator","$checked","charId","values","mainValue","subValue","onMainChange","onSubChange","rest","useTheme","pageString","useLanguage","potentialType","charMap","potentialStage","potentialData","buffs","pattern","p","type","fill","select","SelectProps","multiple","value","renderValue","MenuProps","PaperProps","style","backgroundColor","MenuListProps","width","padding","color","dense","variant","container","xs","analysis","index","primaryPotentialTitle","component","onChange","secondaryPotentialTitle","boolean","checked","disableRipple","inputProps","Scrollable","require","reduce","c","getCharSelects","charState","rarity","isNCharacter","star","imgNames","slice","bond","discipline","potential","potentialSub","undefined","convertLegacyData","newPotentialSub","initCharState","onSelect","state","setState","useState","selectItems","setSelect","useCallback","newCharState","validatedValue","isNaN","from","newCharSelects","entries","forEach","includes","setCharState","charsData","newData","tags","position","push","CharContainer","charString","currentLineup","actions","useLineupData","setCurrentLineup","newLineup","calcCharStats","owned","level","useCharacterSelect","useEffect","handleBtnClick","handleSelectChange","event","parseInt","handleSubChange","StyledCharContainer","sm","md","lg","CharImgWrapper","$owned","disableFocusRipple","CharImg","name","alt","SelectGrid","spacing","SelectWrapper","LevelInput","label","levelTitle","size","margin","disciplineTitle","starTitle","PotentialInput","potentialTitle","Button","ImageSupplier","DataManageButtons","dispatch","handleData","DataButtonContainer","IconButton","tooltipText","saveButton","SaveIcon","loadButton","LoadIcon","ModalContent","localLineups","d","date","deleteButton","DeleteIcon","noData","positionImg","reducer","action","isSuccessSnackbarOpen","isErrorSnackbarOpen","isDataModalOpen","isHelpModalOpen","Error","CharGroupsContainer","PositionImgWrapper","pushLineup","getLineup","deleteLineup","useReducer","dataIndex","firebase","loadedData","charByPositionData","group","withHelp","onClickHelp","Snackbar","message","successMsg","errorMsg","modalTitle","helpModal","charData","calcCharPotential","to","result","items","money","buff","ATK","HP","PASSIVE","cPotentialType","find","stages","stage","j","rank","num","itemMap","parsedItem","itemId","toString","stats","initATK","initHP","levelBuff","validPotentialSub","res","newRes","disciplineBuff","starBuff","Math","floor"],"sourceRoot":""}