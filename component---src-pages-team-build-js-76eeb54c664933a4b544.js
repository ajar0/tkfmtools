"use strict";(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[183],{62846:function(e,t,r){var n=r(87462),a=r(45987),o=r(67294),i=r(85505),l=r(34621),c=r(37595),s=o.forwardRef((function(e,t){var r=e.absolute,l=void 0!==r&&r,c=e.classes,s=e.className,d=e.component,u=void 0===d?"hr":d,p=e.flexItem,m=void 0!==p&&p,f=e.light,h=void 0!==f&&f,g=e.orientation,b=void 0===g?"horizontal":g,v=e.role,y=void 0===v?"hr"!==u?"separator":void 0:v,x=e.variant,w=void 0===x?"fullWidth":x,S=(0,a.Z)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(u,(0,n.Z)({className:(0,i.Z)(c.root,s,"fullWidth"!==w&&c[w],l&&c.absolute,m&&c.flexItem,h&&c.light,"vertical"===b&&c.vertical),role:y,ref:t},S))}));t.Z=(0,l.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,c.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(s)},20022:function(e,t,r){r.d(t,{Oq:function(){return p},dO:function(){return c},jn:function(){return o},iz:function(){return m},Dz:function(){return a},cv:function(){return d},oc:function(){return u}});var n="Invariant failed";var a=function(e){var t=e.top,r=e.right,n=e.bottom,a=e.left;return{top:t,right:r,bottom:n,left:a,width:r-a,height:n-t,x:a,y:t,center:{x:(r+a)/2,y:(n+t)/2}}},o=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},i=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},l={top:0,right:0,bottom:0,left:0},c=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?l:r,c=e.border,s=void 0===c?l:c,d=e.padding,u=void 0===d?l:d,p=a(o(t,n)),m=a(i(t,s)),f=a(i(m,u));return{marginBox:p,borderBox:a(t),paddingBox:m,contentBox:f,margin:n,border:s,padding:u}},s=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e,t){if(!e)throw new Error(n)}(!1),r},d=function(e,t){var r,n,a=e.borderBox,o=e.border,i=e.margin,l=e.padding,s=(n=t,{top:(r=a).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return c({borderBox:s,border:o,margin:i,padding:l})},u=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),d(e,t)},p=function(e,t){var r={top:s(t.marginTop),right:s(t.marginRight),bottom:s(t.marginBottom),left:s(t.marginLeft)},n={top:s(t.paddingTop),right:s(t.paddingRight),bottom:s(t.paddingBottom),left:s(t.paddingLeft)},a={top:s(t.borderTopWidth),right:s(t.borderRightWidth),bottom:s(t.borderBottomWidth),left:s(t.borderLeftWidth)};return c({borderBox:e,margin:r,padding:n,border:a})},m=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return p(t,r)}},49393:function(e,t){var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function n(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(a=e[n],o=t[n],!(a===o||r(a)&&r(o)))return!1;var a,o;return!0}t.Z=function(e,t){var r;void 0===t&&(t=n);var a,o=[],i=!1;return function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return i&&r===this&&t(n,o)||(a=e.apply(this,n),i=!0,r=this,o=n),a}}},62630:function(e,t){t.Z=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t=a,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n}},3840:function(e,t,r){r.d(t,{zt:function(){return d},$j:function(){return H}});var n=r(67294),a=n.createContext(null);var o=function(e){e()},i=function(){return o};var l={notify:function(){},get:function(){return[]}};function c(e,t){var r,n=l;function a(){c.onStateChange&&c.onStateChange()}function o(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=function(){var e=i(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var c={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(r)},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=l)},getListeners:function(){return n}};return c}var s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;var d=function(e){var t=e.store,r=e.context,o=e.children,i=(0,n.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,n.useMemo)((function(){return t.getState()}),[t]);s((function(){var e=i.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,l]);var d=r||a;return n.createElement(d.Provider,{value:i},o)},u=r(87462),p=r(63366),m=r(15706),f=r.n(m),h=r(8812),g=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],b=["reactReduxForwardedRef"],v=[],y=[null,null];function x(e,t){var r=e[1];return[t.payload,r+1]}function w(e,t,r){s((function(){return e.apply(void 0,t)}),r)}function S(e,t,r,n,a,o,i){e.current=n,t.current=a,r.current=!1,o.current&&(o.current=null,i())}function C(e,t,r,n,a,o,i,l,c,s){if(e){var d=!1,u=null,p=function(){if(!d){var e,r,p=t.getState();try{e=n(p,a.current)}catch(m){r=m,u=m}r||(u=null),e===o.current?i.current||c():(o.current=e,l.current=e,i.current=!0,s({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,u)throw u}}}var E=function(){return[null,0]};function O(e,t){void 0===t&&(t={});var r=t,o=r.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=r.methodName,s=void 0===l?"connectAdvanced":l,d=r.renderCountProp,m=void 0===d?void 0:d,O=r.shouldHandleStateChanges,P=void 0===O||O,N=r.storeKey,_=void 0===N?"store":N,k=(r.withRef,r.forwardRef),I=void 0!==k&&k,T=r.context,D=void 0===T?a:T,Z=(0,p.Z)(r,g),j=D;return function(t){var r=t.displayName||t.name||"Component",a=i(r),o=(0,u.Z)({},Z,{getDisplayName:i,methodName:s,renderCountProp:m,shouldHandleStateChanges:P,storeKey:_,displayName:a,wrappedComponentName:r,WrappedComponent:t}),l=Z.pure;var d=l?n.useMemo:function(e){return e()};function g(r){var a=(0,n.useMemo)((function(){var e=r.reactReduxForwardedRef,t=(0,p.Z)(r,b);return[r.context,e,t]}),[r]),i=a[0],l=a[1],s=a[2],m=(0,n.useMemo)((function(){return i&&i.Consumer&&(0,h.isContextConsumer)(n.createElement(i.Consumer,null))?i:j}),[i,j]),f=(0,n.useContext)(m),g=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(f)&&Boolean(f.store);var O=g?r.store:f.store,N=(0,n.useMemo)((function(){return function(t){return e(t.dispatch,o)}(O)}),[O]),_=(0,n.useMemo)((function(){if(!P)return y;var e=c(O,g?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[O,g,f]),k=_[0],I=_[1],T=(0,n.useMemo)((function(){return g?f:(0,u.Z)({},f,{subscription:k})}),[g,f,k]),D=(0,n.useReducer)(x,v,E),Z=D[0][0],L=D[1];if(Z&&Z.error)throw Z.error;var M=(0,n.useRef)(),A=(0,n.useRef)(s),R=(0,n.useRef)(),z=(0,n.useRef)(!1),B=d((function(){return R.current&&s===A.current?R.current:N(O.getState(),s)}),[O,Z,s]);w(S,[A,M,z,s,B,R,I]),w(C,[P,O,k,N,A,M,z,R,I,L],[O,k,N]);var q=(0,n.useMemo)((function(){return n.createElement(t,(0,u.Z)({},B,{ref:l}))}),[l,t,B]);return(0,n.useMemo)((function(){return P?n.createElement(m.Provider,{value:T},q):q}),[m,q,T])}var O=l?n.memo(g):g;if(O.WrappedComponent=t,O.displayName=g.displayName=a,I){var N=n.forwardRef((function(e,t){return n.createElement(O,(0,u.Z)({},e,{reactReduxForwardedRef:t}))}));return N.displayName=a,N.WrappedComponent=t,f()(N,t)}return f()(O,t)}}function P(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function N(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!P(e[r[a]],t[r[a]]))return!1;return!0}function _(e){return function(t,r){var n=e(t,r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function k(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function I(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=k(e);var a=n(t,r);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=k(a),a=n(t,r)),a},n}}var T=[function(e){return"function"==typeof e?I(e):void 0},function(e){return e?void 0:_((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?_((function(t){return function(e,t){var r={},n=function(n){var a=e[n];"function"==typeof a&&(r[n]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)n(a);return r}(e,t)})):void 0}];var D=[function(e){return"function"==typeof e?I(e):void 0},function(e){return e?void 0:_((function(){return{}}))}];function Z(e,t,r){return(0,u.Z)({},r,e,t)}var j=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,a=r.pure,o=r.areMergedPropsEqual,i=!1;return function(t,r,l){var c=e(t,r,l);return i?a&&o(c,n)||(n=c):(i=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return Z}}],L=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function M(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}}function A(e,t,r,n,a){var o,i,l,c,s,d=a.areStatesEqual,u=a.areOwnPropsEqual,p=a.areStatePropsEqual,m=!1;function f(a,m){var f,h,g=!u(m,i),b=!d(a,o);return o=a,i=m,g&&b?(l=e(o,i),t.dependsOnOwnProps&&(c=t(n,i)),s=r(l,c,i)):g?(e.dependsOnOwnProps&&(l=e(o,i)),t.dependsOnOwnProps&&(c=t(n,i)),s=r(l,c,i)):b?(f=e(o,i),h=!p(f,l),l=f,h&&(s=r(l,c,i)),s):s}return function(a,d){return m?f(a,d):(l=e(o=a,i=d),c=t(n,i),s=r(l,c,i),m=!0,s)}}function R(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,o=(0,p.Z)(t,L),i=r(e,o),l=n(e,o),c=a(e,o);return(o.pure?A:M)(i,l,c,e,o)}var z=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function B(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function q(e,t){return e===t}function U(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?O:r,a=t.mapStateToPropsFactories,o=void 0===a?D:a,i=t.mapDispatchToPropsFactories,l=void 0===i?T:i,c=t.mergePropsFactories,s=void 0===c?j:c,d=t.selectorFactory,m=void 0===d?R:d;return function(e,t,r,a){void 0===a&&(a={});var i=a,c=i.pure,d=void 0===c||c,f=i.areStatesEqual,h=void 0===f?q:f,g=i.areOwnPropsEqual,b=void 0===g?N:g,v=i.areStatePropsEqual,y=void 0===v?N:v,x=i.areMergedPropsEqual,w=void 0===x?N:x,S=(0,p.Z)(i,z),C=B(e,o,"mapStateToProps"),E=B(t,l,"mapDispatchToProps"),O=B(r,s,"mergeProps");return n(m,(0,u.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:E,initMergeProps:O,pure:d,areStatesEqual:h,areOwnPropsEqual:b,areStatePropsEqual:y,areMergedPropsEqual:w},S))}}var H=U();var W,$=r(73935);W=$.unstable_batchedUpdates,o=W},64352:function(e,t,r){r.d(t,{I4:function(){return i},Ye:function(){return o}});var n=r(67294);function a(e,t){var r=(0,n.useState)((function(){return{inputs:t,result:e()}}))[0],a=(0,n.useRef)(!0),o=(0,n.useRef)(r),i=a.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,n.useEffect)((function(){a.current=!1,o.current=i}),[i]),i.result}var o=a,i=function(e,t){return a((function(){return e}),t)}},74772:function(e,t,r){r.d(t,{Q:function(){return c},qg:function(){return u},cP:function(){return f}});var n=r(67294),a=r(50009),o=r(42857),i=r(93175),l=r(16855),c=e=>{var{children:t,className:r,imgType:a,imgId:o,alt:i,isBackground:l}=e;return l?n.createElement(s,{className:r,name:a+"_"+o,isBackground:!0,alt:i},t):n.createElement(d,{className:r},n.createElement(s,{name:a+"_"+o,alt:i}),t)},s=(0,a.default)(i.Z).withConfig({displayName:"Card__StyledImg",componentId:"sc-1duszqx-0"})(["display:flex;justify-content:center;align-items:center;width:100%;background-repeat:no-repeat;"]),d=a.default.div.withConfig({displayName:"Card__ImgWrapper",componentId:"sc-1duszqx-1"})(["display:flex;align-items:center;justify-content:center;"]),u=e=>{var{className:t,id:r}=e,{itemString:a}=(0,o.f)();return n.createElement(p,{className:t,imgType:"item",imgId:r,alt:""},n.createElement(m,null,a.name[r]))},p=(0,a.default)(c).withConfig({displayName:"Card__ItemImg",componentId:"sc-1duszqx-2"})(["> div:first-child{width:2.5rem;height:2.5rem;margin-right:0.4rem;user-select:none;}"]),m=a.default.div.withConfig({displayName:"Card__TextWrapper",componentId:"sc-1duszqx-3"})(["white-space:nowrap;font-size:medium;font-weight:normal;"]),f=e=>{var{className:t,children:r,striped:a}=e;return n.createElement(h,{className:t,$striped:a},r)},h=(0,a.default)(l.Z).withConfig({displayName:"Card__StyledTable",componentId:"sc-1duszqx-4"})(["&& .MuiTableCell-root{font-size:0.9rem;padding:0.3rem;padding-left:0.75rem;}"])},47233:function(e,t,r){r.d(t,{Ps:function(){return y},ac:function(){return C}});var n=r(45987),a=r(67294),o=r(50009),i=r(86300),l=r(99395),c=r(49400),s=r(42857),d=r(74772),u=r(28437),p=r(5102),m=["available"],f=e=>{var{className:t,id:r}=e,{charString:n}=(0,s.f)();return a.createElement(h,{className:t,imgType:"char_small",imgId:r,alt:"",isBackground:!0},a.createElement(b,null,n.name[r].split(" ").slice(0,-1).join(" ")),a.createElement(g,null,n.name[r].split(" ").slice(-1)[0]))},h=(0,o.default)(d.Q).withConfig({displayName:"CharCard__StyledCard",componentId:"sc-1p8ym1z-0"})(["flex-direction:column;align-items:flex-end;justify-content:space-around;width:100%;min-width:10rem;height:3.6rem;background-repeat:no-repeat;background-size:6rem 6rem;background-position:0 -1.6rem;"]),g=o.default.div.withConfig({displayName:"CharCard__TextWrapper",componentId:"sc-1p8ym1z-1"})(["margin-left:0;margin-right:1rem;transition:all 0.3s ease;text-transform:none;text-shadow:0 0 1px ",",-2px 0 1px ",",2px 0 1px ",",0 -2px 1px ",",0 2px 1px ",",2px 2px 1px ",",2px -2px 1px ",",-2px 2px 1px ",",-2px -2px 1px ",";"],(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface)),b=(0,o.default)(g).withConfig({displayName:"CharCard__TitleText",componentId:"sc-1p8ym1z-2"})(["font-size:small;"]),v={TABLE:{"zh-TW":900,en:1300,ja:1300,ko:1300},FILTER:{"zh-TW":1360,en:1360,ja:1460,ko:1360}},y=(0,o.default)(f).attrs((e=>{var{$lang:t,$type:r}=e;return{$textWrapConfig:v[r][t]}})).withConfig({displayName:"CharCard__ResponsiveCharCard",componentId:"sc-1p8ym1z-3"})(["@media screen and (min-width:","px){flex-direction:row;align-items:center;justify-content:flex-start;> div{margin-left:7rem;}> div:last-child{margin-left:-0.6rem;}}"],(e=>e.$textWrapConfig)),x=e=>{var{type:t,tag:r}=e,{charString:n}=(0,s.f)(),o={attribute:u.XV,position:u.$g,race:u.i6,body:u.cp,oppai:u.JU,rank:u.U2,else:u.fP};return a.createElement(l.Z,null,a.createElement(c.Z,null,a.createElement(w,null,a.createElement(S,null,o[t]),n.tags[r])))},w=o.default.div.withConfig({displayName:"CharCard__TagWrapper",componentId:"sc-1p8ym1z-4"})(["display:flex;flex-direction:row;"]),S=o.default.div.withConfig({displayName:"CharCard__IconWrapper",componentId:"sc-1p8ym1z-5"})(["margin-bottom:0.1rem;margin-left:0.25rem;margin-right:0.4rem;> svg{width:1.2rem;fill:",";color:",";}"],(e=>e.theme.colors.secondary),(e=>e.theme.colors.secondary)),C=e=>{var{id:t}=e,{charString:r}=(0,s.f)(),{tags:o}=p.find((e=>e.id===t)),{available:u}=o,f=(0,n.Z)(o,m);return u?a.createElement(d.cP,{striped:!0},a.createElement(i.Z,null,Object.entries(f).map(((e,t)=>{var[r,n]=e;return"else"===r?n.map((e=>a.createElement(x,{key:e,type:"else",tag:e}))):n>=0?a.createElement(x,{key:n,type:r,tag:n}):null})))):a.createElement(d.cP,{striped:!0},a.createElement(i.Z,null,a.createElement(l.Z,null,a.createElement(c.Z,null,r.tagWarnMsg))))};t.ZP=f},49963:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(67294),a=r(50009),o=r(87462),i=r(45987),l=r(85505),c=r(34621),s=r(81664),d=n.forwardRef((function(e,t){var r=e.classes,a=e.className,c=e.color,d=void 0===c?"default":c,u=e.component,p=void 0===u?"li":u,m=e.disableGutters,f=void 0!==m&&m,h=e.disableSticky,g=void 0!==h&&h,b=e.inset,v=void 0!==b&&b,y=(0,i.Z)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return n.createElement(p,(0,o.Z)({className:(0,l.Z)(r.root,a,"default"!==d&&r["color".concat((0,s.Z)(d))],v&&r.inset,!g&&r.sticky,!f&&r.gutters),ref:t},y))})),u=(0,c.Z)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(d),p=r(65541),m=r(42857),f=r(50190),h=(0,a.default)(f.Z).withConfig({displayName:"StageSelect__StyledInput",componentId:"sc-iyjsu9-0"})(["&&{margin:0.4rem 0;width:100%;svg{fill:",";}}"],(e=>e.theme.colors.onSurface)),g=(0,a.default)(u).withConfig({displayName:"StageSelect__StyledListSubheader",componentId:"sc-iyjsu9-1"})(["&&{color:",";font-size:1rem;font-style:italic;line-height:2rem;}"],(e=>e.theme.colors.onSurface)),b=e=>{var{children:t,className:r,value:o,error:i,handleChange:l}=e,{pageString:c,stageString:s}=(0,m.f)(),{colors:d}=(0,a.useTheme)();return n.createElement(h,{className:r,label:c.team.build.stageSelectLabel,id:"select-stage",onChange:l,select:!0,value:o,SelectProps:{MenuProps:{PaperProps:{style:{backgroundColor:d.surface}},MenuListProps:{style:{backgroundColor:d.surface,color:d.onSurface},dense:!0}}},variant:"outlined",size:"small",inputProps:{"aria-label":"select-stage"},error:i,helperText:i&&c.team.build.stageSelectHelpText},t,s.map((e=>{var t;return[n.createElement(g,{key:e.name},e.name),null===(t=e.stages)||void 0===t?void 0:t.map((t=>n.createElement(p.Z,{value:e.chapter+"/"+t.id,key:t.id},t.id+" : "+t.name))),e.stagePrefix&&[...Array(61).keys()].slice(1).map((t=>n.createElement(p.Z,{value:e.chapter+"/"+e.chapter+"-"+t,key:e.chapter+"-"+t},e.chapter+"-"+t+" : "+e.stagePrefix+t+e.stageSuffix)))]})))}},58496:function(e,t,r){var n=r(4942),a=r(15861),o=r(67294),i=r(73935),l=r(50009);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=()=>{var{colors:e}=(0,l.useTheme)(),t=(0,o.useRef)(),{0:s,1:d}=(0,o.useState)(!1),u=function(){var o=(0,a.Z)((function*(a){var{componentRef:o,fileName:l,html2canvasOption:s}=a;if(null==o||!o.current)throw new Error("'componentRef' must be a RefObject");d(!0),null!=t&&t.current||(t.current=(yield r.e(443).then(r.t.bind(r,60217,23))).default);var u,p,m,f=i.findDOMNode(o.current),h=yield t.current(f,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({logging:!1,scrollY:-window.scrollY,useCORS:!0,backgroundColor:e.background},s));yield(u=h.toDataURL("image/jpeg",1),p=l||"component",m=document.createElement("a"),void("string"==typeof m.download?(m.href=u,m.download=p,document.body.appendChild(m),m.click(),document.body.removeChild(m)):window.open(u))),d(!1)}));return function(e){return o.apply(this,arguments)}}();return{isExporting:s,exportImage:u}}},50475:function(e,t,r){r.r(t),r.d(t,{default:function(){return Ae}});var n=r(15861),a=r(4942),o=r(67294),i=r(50009),l=r(83332),c=r(27136),s=r(62846),d=r(45987),u=r(29748),p=r(28001),m=e=>({id:e,level:"",star:void 0===e?"":4-parseInt(e[0]),bond:1,discipline:void 0===e?"":"4"===e[0]?"-":0,potential:1,potentialSub:Array(6).fill(!1)}),f=["attribute","position","ATK","HP","owned"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=()=>{var{currentTeam:e,isImportingLineup:t,actions:r}=(0,p.q)(),{setCurrentTeam:n}=r,{getLatestLineup:a}=(0,u.H)().actions,i=a(),l=(0,o.useCallback)((e=>{if(t&&i){var r=i.find((t=>t.id===e));if(null!=r&&r.owned){var{attribute:n,position:a,ATK:o,HP:l,owned:c}=r;return g(g({},(0,d.Z)(r,f)),{},{bond:1})}}return m(e)}),[t,i]);return[e,(t,r)=>{var a=Array.from(e.characters);a[r]=g(g({},a[r]),l(t)),n(g(g({},e),{},{characters:a}))}]},v=r(58496),y=r(42857),x=r(6241),w=e=>{var{items:t,renderItem:r,onUpdate:n,droppableId:a}=e,i=(0,o.useCallback)((e=>{var{destination:r,source:a}=e;r&&(r.droppableId===a.droppableId&&r.index===a.index||n(((e,t,r)=>{var n=Array.from(e),[a]=n.splice(t,1);return n.splice(r,0,a),n})(t,a.index,r.index)))}),[t,n]);return o.createElement(x.Z5,{onDragEnd:i},o.createElement(x.bK,{droppableId:a},(e=>o.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),t.map(((e,t)=>o.createElement(x._l,{draggableId:e.key,index:t,key:e.key},((n,a)=>r(e,t,n,a.isDragging))))),e.placeholder))))},S=r(22727),C=r(25072),E=r(22776),O=r(57693),P=r(79520),N=r(50190),_=r(49963),k=r(59969),I=r.n(k),T=r(18572),D=r.n(T);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=e=>{if("object"!=typeof e.potentialSub){var t=[...Array(6).keys()].map((t=>t<e.potentialSub));e.potentialSub=t}return I()(j(j({},e),{},{level:""===e.level?"-":e.level,discipline:"-"===e.discipline?0:e.discipline},D()[e.id].stats))},M=e=>{var{0:t,1:r}=(0,o.useState)(L(e));return[t,(0,o.useCallback)((e=>r(L(e))),[])]},A=r(80838),R=r(1446),z=r(93175),B=r(60773),q=e=>{var{type:t,values:r,value:n,onChange:a,disabled:i}=e;return o.createElement(U,{id:"select-"+t,values:r,value:n,onChange:a,variant:"outlined",size:"small",inputProps:{"aria-label":t},disabled:i})},U=(0,i.default)(N.P).withConfig({displayName:"CharStatsSelect__StyledSelect",componentId:"sc-1ypiq0n-0"})(["position:absolute;left:1.6rem;background-color:",";"],(e=>e.theme.colors.surface)),H=(0,i.default)(A.Z).withConfig({displayName:"CharStatsSelect__StyledCharStatsSelect",componentId:"sc-1ypiq0n-1"})(["position:absolute;z-index:1;display:flex;flex-wrap:wrap;top:0.6rem;left:calc(14rem + 5%);&&{width:32rem;}> div{display:flex;}@media screen and (max-width:1000px){&&{width:28rem;}}@media screen and (max-width:768px){left:calc(7rem + 5%);&&{width:26rem;}}@media screen and (max-width:599px){top:0.4rem;&&{width:14rem;}}"]),W=i.default.label.withConfig({displayName:"CharStatsSelect__StyledLabel",componentId:"sc-1ypiq0n-2"})(["margin:0.1rem 0.4rem 0 0.2rem;"]),$=(0,i.default)(N.Z).withConfig({displayName:"CharStatsSelect__LevelInput",componentId:"sc-1ypiq0n-3"})(["width:100%;height:1.6rem;> div{width:2rem;> input{padding:0.2rem;text-align:center;}}"]),F=(0,i.default)(z.Z).withConfig({displayName:"CharStatsSelect__UiImg",componentId:"sc-1ypiq0n-4"})(["position:relative;width:4.2rem;background-repeat:no-repeat;background-size:1.6rem 1.6rem;background-position:0 0.3rem;"]),V=(0,i.default)(B.Z).withConfig({displayName:"CharStatsSelect__StyledPotentialInput",componentId:"sc-1ypiq0n-5"})(["position:absolute;left:1.8rem;&& > div > div{width:100%;> div{padding:0.2rem;padding-left:0.4rem;padding-right:1rem;}}span{top:-0.5rem;}"]),K=e=>{var{className:t,char:r,levelInputId:n,onSelect:a}=e,{charState:i,selectItems:l,setSelect:c,setCharState:s}=(0,R.Z)(r,a);(0,o.useEffect)((()=>{s(r)}),[r]);var d=e=>t=>c(e,parseInt(t.target.value)),u=e=>()=>c("potentialSub",e);return o.createElement(H,{container:!0,spacing:1,className:t},o.createElement(A.Z,{item:!0,xs:4,sm:2},o.createElement(W,{htmlFor:n},"Lv"),o.createElement($,{id:n,value:i.level,onChange:d("level"),variant:"outlined",size:"small",inputProps:{"aria-label":"level"}})),Object.entries(l).map((e=>{var[t,n]=e;return"potential"===t?o.createElement(A.Z,{item:!0,xs:6,sm:3,component:F,name:n.imgNames,isBackground:!0,alt:t,key:t},o.createElement(V,{charId:r.id,values:n.values,mainValue:i.potential,subValue:i.potentialSub,onMainChange:d("potential"),onSubChange:u})):"potentialSub"!==t&&o.createElement(A.Z,{item:!0,xs:4,sm:2,component:F,name:n.imgNames,isBackground:!0,alt:t,key:t},o.createElement(q,{type:t,value:i[t],values:n.values,disabled:n.disabled,onChange:d(t)}))})))},Y=r(28437),J=e=>{var{children:t,onClick:r,tooltipText:n}=e;return o.createElement(X,{onClick:r,tooltipText:n},t)},X=(0,i.default)(S.ZP).withConfig({displayName:"CharSlot__StyledButton",componentId:"sc-i791kq-0"})(["&&{width:1.2rem;height:1.2rem;padding:0;margin:0 0.4rem;}"]),Q=e=>{var{handleChange:t,handleDelete:r}=e,{pageString:n}=(0,y.f)();return o.createElement(G,null,o.createElement(J,{onClick:t,tooltipText:n.team.build.changeTooltip},Y.XX),o.createElement(J,{onClick:r,tooltipText:n.team.build.deleteTooltip},Y.pJ))},G=i.default.div.withConfig({displayName:"CharSlot__BtnsWrapper",componentId:"sc-i791kq-1"})(["display:flex;flex-direction:column;justify-content:space-around;position:absolute;z-index:1;top:0;right:1rem;height:calc(100% - 1.6rem);@media screen and (max-width:768px){flex-direction:row;z-index:2;top:auto;bottom:-1.4rem;right:0.4rem;height:auto;}"]),ee=e=>{var{char:t,index:r,handleSelectModalOpen:n,handleCharDelete:a}=e,{currentTeam:i,actions:l}=(0,p.q)(),{setCurrentTeam:c}=l,[s,d]=M(t),{userLanguage:u,charString:m}=(0,y.f)();return(0,o.useEffect)((()=>{d(t)}),[t]),o.createElement(o.Fragment,null,o.createElement(te,{name:"char_small_"+t.id,isBackground:!0,alt:""}),o.createElement(re,{$lang:u},o.createElement("span",null,m.name[t.id].split(" ").slice(0,-1).join(" ")),o.createElement("span",null,m.name[t.id].split(" ").slice(-1)[0])),o.createElement(ne,null,m.tags[D()[t.id].tags.position]),o.createElement(K,{char:t,levelInputId:"level-input-"+r,onSelect:e=>{d(e);var t=JSON.parse(JSON.stringify(i));t.characters[r]=e,c(t)}}),o.createElement(Q,{handleChange:n,handleDelete:a}),o.createElement(ae,null,o.createElement("div",null,Y.dR,o.createElement("span",null,isNaN(s.ATK)?"-":s.ATK)),o.createElement("div",null,Y.If,o.createElement("span",null,isNaN(s.HP)?"-":s.HP))))},te=(0,i.default)(z.Z).withConfig({displayName:"CharSlot__SlotCharAvatar",componentId:"sc-i791kq-2"})(["position:relative;z-index:1;left:0;width:calc(4.4rem + 4%);height:5rem;background-repeat:no-repeat;background-size:8rem 8rem;background-position:calc(50% - 1rem) -2rem;background-color:rgba(0,0,0,0);"]),re=i.default.div.withConfig({displayName:"CharSlot__CharName",componentId:"sc-i791kq-3"})(["position:absolute;z-index:1;display:flex;flex-direction:column;align-items:flex-start;top:0.4rem;left:calc(5rem + 4%);font-size:",";transition:all 0.3s ease;> span:first-child{font-size:",";}@media screen and (max-width:768px){align-items:flex-end;left:auto;right:calc(96% - 6.5rem);font-size:",";> span:first-child{font-size:",";}}"],(e=>"ja"===e.$lang?"1.2rem":"x-large"),(e=>"ja"===e.$lang?".9rem":"medium"),(e=>"ja"===e.$lang?"1rem":"large"),(e=>"ja"===e.$lang?".8rem":"small")),ne=i.default.span.withConfig({displayName:"CharSlot__CharPositionText",componentId:"sc-i791kq-4"})(["position:absolute;z-index:1;bottom:0.1rem;left:calc(9.2rem + 4%);font-size:small;@media screen and (max-width:768px){left:auto;right:calc(96% - 6.5rem);}"]),ae=i.default.div.withConfig({displayName:"CharSlot__CharStats",componentId:"sc-i791kq-5"})(["position:absolute;z-index:1;display:flex;bottom:0;left:calc(14rem + 5%);width:calc(95% - 14rem);height:1.6rem;svg{width:1.2rem;height:1.2rem;fill:",';}span{position:relative;z-index:1;display:inline-block;vertical-align:middle;line-height:normal;margin:0.2rem;}div{margin-right:0.6rem;}div:last-child{margin-right:0;}@media screen and (max-width:768px){bottom:-1.6rem;left:calc(5rem + 5%);width:calc(95% - 6rem);padding-left:1rem;&:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;transform:skew(30deg);transform-origin:0 0;mask:linear-gradient(270deg,transparent 1rem,#000 75%);border:1px solid ',";border-top:none;border-right:none;background:linear-gradient( 270deg,transparent 1rem,"," 75% );}}"],(e=>e.theme.colors.onSurface),(e=>e.theme.colors.shadow),(e=>e.theme.colors.shadow+"33")),oe=o.forwardRef(((e,t)=>{var r,{char:n,provided:a,isDragging:i,index:l,handleSelectModalOpen:c,handleCharDelete:s}=e,{pageString:d}=(0,y.f)();return o.createElement(ie,Object.assign({$colorNumber:null===(r=D()[null==n?void 0:n.id])||void 0===r?void 0:r.tags.attribute,$isDragging:i,$isEmpty:void 0===(null==n?void 0:n.id)},a.draggableProps,a.dragHandleProps,{ref:t}),null!=n&&n.id?o.createElement(ee,{char:n,index:l,handleSelectModalOpen:c,handleCharDelete:s}):o.createElement(le,{onClick:c},d.team.build.emptySlotText))})),ie=i.default.div.withConfig({displayName:"CharSlot__StyledSlot",componentId:"sc-i791kq-6"})(["position:relative;z-index:1;left:0.6rem;right:0;width:calc(100% - 0.5rem);height:5rem;margin:0 0 0.6rem;span{white-space:pre;text-shadow:0 0 2px ",",-2px 0 2px ",",2px 0 2px ",",0 -2px 2px ",",0 2px 2px ",",2px 2px 2px ",",2px -2px 2px ",",-2px 2px 2px ",",-2px -2px 2px ",';}&:before{content:"";position:absolute;left:-0.6rem;height:100%;width:0;border:0.25rem solid transparent;border-right:0.4rem solid ',";border-left:0;",' transition:border 0.3s ease;}&:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border:1px solid ',";border-left:none;border-right:none;background:linear-gradient( 180deg,",","," );background-size:100% 200%;clip-path:",";}&:hover{:before{border-top:none;border-bottom:none;}:after{background-size:100% 100%;}}@media screen and (max-width:768px){margin:0 0 ","rem;&:after{clip-path:none;}&:hover > div:last-child:after{background:",";}}"],(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>void 0!==e.$colorNumber?e.theme.chart.colors[e.$colorNumber]:e.theme.colors.dropdownHover),(e=>e.$isDragging?"border-top: none;\n        border-bottom: none;":""),(e=>e.theme.colors.shadow+"80"),(e=>e.$isDragging?e.theme.colors.surface:e.theme.colors.shadow+"0D"),(e=>e.$isDragging?e.theme.colors.shadow:e.theme.colors.shadow+"66"),(e=>e.$isEmpty?"none":"polygon(\n            0 0,\n            100% 0,\n            100% calc(100% - 1.6rem),\n            calc(14rem + 5%) calc(100% - 1.6rem),\n            calc(12.6rem + 5%) 100%,0 100%\n        )\n        "),(e=>e.$isEmpty?".6":"2.2"),(e=>e.theme.colors.shadow+"4D")),le=(0,i.default)(l.Z).withConfig({displayName:"CharSlot__EmptySlotContent",componentId:"sc-i791kq-7"})(["position:absolute;z-index:1;width:100%;height:100%;&& .MuiButton-label{position:absolute;top:50%;left:calc(5rem + 4%);width:auto;height:0;font-size:x-large;color:",';@media screen and (max-width:768px){left:calc(3.2rem + 3%);font-size:large;}}&:before{position:absolute;z-index:1;top:50%;left:calc(0.2rem + 2%);content:"+";color:',';font-size:4rem;line-height:0;text-align:center;text-shadow:none;}&:after{position:absolute;z-index:1;top:0;left:0;content:"";width:8rem;height:100%;background:linear-gradient( 90deg,rgba(255,255,255,0.25) 25%,transparent );}'],(e=>e.theme.colors.shadow),(e=>e.theme.colors.shadow)),ce=oe,se=r(47233),de=function(){var e=(0,n.Z)((function*(e){try{return[yield e,null]}catch(t){return[null,t]}}));return function(t){return e.apply(this,arguments)}}(),ue=de;function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=r(5102).reduce(((e,t)=>(e[3-t.rarity].push({id:t.id}),e)),[...Array(4)].map((e=>[]))),he=["ssr","sr","r","n"],ge=e=>{var{open:t,onClose:r,handleSelect:n}=e,{pageString:a}=(0,y.f)();return o.createElement(be,{title:a.team.build.selectModalTitle,open:t,onClose:r,keepMounted:!0,ariaLabelledby:"character-select-modal"},fe.map(((e,t)=>o.createElement(o.Fragment,{key:t},o.createElement(ve,{titleIcon:o.createElement(ye,{name:"ui_rarity_"+he[t],alt:he[t]}),border:!0}),o.createElement(xe,null,e.map((e=>o.createElement(we,{onClick:n(e.id),key:e.id},o.createElement(Se,{id:e.id})))))))))},be=(0,i.default)(E.WQ).withConfig({displayName:"build__StyledModal",componentId:"sc-9mytr3-0"})(["> div:nth-child(3){top:5%;width:90%;}"]),ve=(0,i.default)(C.ZP).withConfig({displayName:"build__RarityHeader",componentId:"sc-9mytr3-1"})(["margin-bottom:0.4rem;span{display:flex;align-items:center;}"]),ye=(0,i.default)(z.Z).withConfig({displayName:"build__RarityImgWrapper",componentId:"sc-9mytr3-2"})(["width:3rem;"]),xe=i.default.div.withConfig({displayName:"build__RarityChars",componentId:"sc-9mytr3-3"})(["display:flex;flex-wrap:wrap;margin:0 -0.4rem 0 -1rem;"]),we=(0,i.default)(l.Z).withConfig({displayName:"build__CharButton",componentId:"sc-9mytr3-4"})(["&&{padding:0;.MuiButton-label{color:",";}}"],(e=>e.theme.colors.onSurface)),Se=(0,i.default)(se.ZP).withConfig({displayName:"build__ModalCharCard",componentId:"sc-9mytr3-5"})(["min-width:0;width:8.8rem;margin:0.2rem;"]),Ce=(e,t)=>{switch(t.type){case"OPEN_MODAL_AND_SELECT":return me(me({},e),{},{didModalMounted:!0,isSelectModalOpen:!0,slotIndex:t.slotIndex});case"CLOSE_MODAL":return me(me({},e),{},{isSelectModalOpen:!1,slotIndex:null});default:throw new Error("Unknown action type: "+t.type)}},Ee=()=>{var{didLoad:e,actions:t}=(0,p.q)(),{setCurrentTeam:r}=t,[n,a]=b(),{0:i,1:l}=(0,o.useReducer)(Ce,{didModalMounted:!1,isSelectModalOpen:!1,slotIndex:null}),c=function(e,t){return void 0===t&&(t=null),()=>{a(e,null===t?i.slotIndex:t),l({type:"CLOSE_MODAL"})}};return o.createElement(o.Fragment,null,e&&o.createElement(w,{items:n.characters,renderItem:(e,t,r,n)=>o.createElement(ce,{char:e,index:t,provided:r,isDragging:n,ref:r.innerRef,handleSelectModalOpen:()=>l({type:"OPEN_MODAL_AND_SELECT",slotIndex:t}),handleCharDelete:c(null,t)}),onUpdate:e=>r(me(me({},n),{},{characters:e})),droppableId:"character-list"}),i.didModalMounted&&o.createElement(ge,{open:i.isSelectModalOpen,onClose:()=>l({type:"CLOSE_MODAL"}),handleSelect:c}))},Oe=e=>{var{open:t,onClose:r,isUploading:n,handleUpload:a}=e,{pageString:i}=(0,y.f)(),{0:l,1:c}=(0,o.useState)({chapter:"",stage:"",author:"",description:"",isStageValid:!1,isAuthorValid:!1,isDescriptionValid:!0}),s=e=>t=>{var r;if("stage"===e){var n=t.target.value.split("/");r=me(me({},l),{},{chapter:n[0],stage:n[1]})}else r=me(me({},l),{},{[e]:t.target.value});c(me(me({},r),{},{isStageValid:""!==r.stage,isAuthorValid:r.author.length>0&&r.author.length<51,isDescriptionValid:r.description.length<=400}))};return o.createElement(be,{title:i.team.build.uploadTooltip,open:t,onClose:r,ariaLabelledby:"upload-modal-title",ariaDescribedby:"upload-modal-description"},o.createElement(_.Z,{value:""===l.chapter?"":l.chapter+"/"+l.stage,error:!l.isStageValid,handleChange:s("stage")}),o.createElement(Pe,{id:"author-input",value:l.author,onChange:s("author"),label:i.team.build.authorInputLabel,placeholder:i.team.build.authorInputPlaceholder,variant:"outlined",size:"small",inputProps:{"aria-label":"author-description"},error:!l.isAuthorValid,helperText:!l.isAuthorValid&&i.team.build.authorInputHelpText}),o.createElement(Pe,{id:"team-description-input",value:l.description,onChange:s("description"),label:i.team.build.descriptionInputLabel,placeholder:i.team.build.descriptionInputPlaceholder,variant:"outlined",size:"small",multiline:!0,rows:3,inputProps:{"aria-label":"team-description"},error:!l.isDescriptionValid,helperText:!l.isDescriptionValid&&i.team.build.descriptionInputHelpText}),o.createElement(Ne,null,i.team.build.uploadMsg.map(((e,t)=>o.createElement("li",{key:t},e)))),o.createElement(_e,null,o.createElement(ke,{$isValid:l.isStageValid&&l.isAuthorValid&&l.isDescriptionValid,onClick:l.isStageValid&&l.isAuthorValid&&l.isDescriptionValid?a({chapter:l.chapter,stage:l.stage,author:l.author,description:l.description}):null},n?o.createElement(Ie,{size:24,thickness:6,disableShrink:!0}):i.team.build.uploadButton),o.createElement(ke,{onClick:r},i.team.build.cancelButton)))},Pe=(0,i.default)(N.Z).withConfig({displayName:"build__StyledInput",componentId:"sc-9mytr3-6"})(["&&{margin:0.4rem 0;width:100%;svg{fill:",";}}textarea{font-size:small;}"],(e=>e.theme.colors.onSurface)),Ne=i.default.ul.withConfig({displayName:"build__MessageBox",componentId:"sc-9mytr3-7"})(["margin:0;padding:0.5rem 0 0 1rem;color:",";font-size:small;"],(e=>e.theme.colors.onSurface)),_e=i.default.div.withConfig({displayName:"build__ButtonBox",componentId:"sc-9mytr3-8"})(["display:flex;align-items:center;justify-content:flex-end;&& > button:last-child{margin-right:0;background-color:",";}"],(e=>e.theme.colors.dropdownHover)),ke=(0,i.default)(l.Z).withConfig({displayName:"build__StyledButton",componentId:"sc-9mytr3-9"})(["&&&{margin:0.5rem 0.5rem 0 0.5rem;background-color:",";color:#fff;}&:hover{box-shadow:inset 0 0 20rem #fff1;}"],(e=>e.theme.colors.success+(e.$isValid?"":"80"))),Ie=(0,i.default)(c.Z).withConfig({displayName:"build__StyledSpinner",componentId:"sc-9mytr3-10"})(["&&{display:block;margin:auto;color:#fff;}"]),Te=(e,t)=>{switch(t.type){case"OPEN_MODAL":return me(me({},e),{},{isModalOpen:!0});case"START_UPLOAD":return me(me({},e),{},{isUploading:!0});case"UPLOAD_SUCCESS":return me(me({},e),{},{isModalOpen:!1,isUploading:!1,isUploadSnackbarOpen:!0});case"UPLOAD_FAIL":return me(me({},e),{},{isUploading:!1,isUploadSnackbarOpen:!0});case"COPY_LINK":return navigator.clipboard.writeText(e.shareLink),me(me({},e),{},{isCopySnackbarOpen:!0});case"SET_LINK":return me(me({},e),{},{shareLink:t.link});case"HANDLE_MODAL":return me(me({},e),{},{isModalOpen:t.open});case"HANDLE_ERROR_SNACKBAR":return me(me({},e),{},{isErrorSnackbarOpen:t.open});case"CLOSE_COPY_SNACKBAR":return me(me({},e),{},{isCopySnackbarOpen:!1});case"CLOSE_UPLOAD_SNACKBAR":return me(me({},e),{},{isUploadSnackbarOpen:!1});default:throw new Error("unknown action type: "+t.type)}},De=e=>{var{isExporting:t,handleExport:a}=e,{pageString:i}=(0,y.f)(),{currentTeam:l,actions:c}=(0,p.q)(),{setCurrentTeam:s}=c,{0:d,1:u}=(0,o.useReducer)(Te,{shareLink:"loading...",isUploading:!1,isModalOpen:!1,isCopySnackbarOpen:!1,isUploadSnackbarOpen:!1,isErrorSnackbarOpen:!1}),m=(0,o.useRef)(),f=function(){var e=(0,n.Z)((function*(){null!=m&&m.current||(m.current=yield Promise.all([r.e(259),r.e(378)]).then(r.bind(r,35378)));var e=new URL(window.location.href);e.searchParams.set("team",JSON.stringify(l));var[t,n]=yield ue(m.current.getShortLink(e.href));u(t?{type:"SET_LINK",link:t}:{type:"HANDLE_ERROR_SNACKBAR",open:!0})}));return function(){return e.apply(this,arguments)}}();return o.createElement(o.Fragment,null,o.createElement(Ze,{title:o.createElement("div",null,o.createElement(N.Z,{id:"team-name-input",value:l?l.name:"",onChange:e=>{var{target:t}=e;s(me(me({},l),{},{name:t.value}))},label:o.createElement("span",{"data-html2canvas-ignore":"true"},i.team.build.nameInputLabel),placeholder:i.team.build.nameInputPlaceholder,variant:"outlined",size:"small",inputProps:{"aria-label":"team-name"}})),end:o.createElement(o.Fragment,null,o.createElement(S.ZP,{onClick:()=>u({type:"HANDLE_MODAL",open:!0}),tooltipText:i.team.build.uploadTooltip,dataHtml2canvasIgnore:!0},Y.Tl),o.createElement(O.Z,{button:o.createElement(S.ZP,{tooltipText:i.team.build.shareTooltip,dataHtml2canvasIgnore:!0},Y.aA),buttonOnClick:f,items:[{id:"share-button"}],renderItem:()=>o.createElement(o.Fragment,null,o.createElement(je,{href:d.shareLink,target:"_blank",rel:"noreferrer"},d.shareLink),o.createElement(S.ZP,{onClick:()=>u({type:"COPY_LINK"}),tooltipText:i.team.build.copyTooltip},Y.TI)),disableItemButton:!0,ariaId:"share-menu"}),o.createElement(S.j3,{onClick:a,isLoading:t}))}),o.createElement(Oe,{open:d.isModalOpen,onClose:()=>u({type:"HANDLE_MODAL",open:!1}),isUploading:d.isUploading,handleUpload:e=>(0,n.Z)((function*(){if(!d.isUploading){u({type:"START_UPLOAD"}),null!=m&&m.current||(m.current=yield Promise.all([r.e(259),r.e(378)]).then(r.bind(r,35378)));var t=JSON.parse(JSON.stringify(l)),n=60;"S"===e.chapter&&(n=parseInt(e.stage.slice(2))+19),"E"===e.chapter&&"Ex"===e.stage.slice(0,2)&&(n=10*parseInt(e.stage.slice(-1))+20),t.characters.forEach((e=>{!isNaN(parseInt(e.level))&&parseInt(e.level)>n&&(e.level=n)}));var[a,o]=yield ue(m.current.teamCollection.add(me(me(me({},e),t),{},{time:m.current.Timestamp.now()})));u(o?{type:"UPLOAD_FAIL"}:{type:"UPLOAD_SUCCESS"})}}))}),o.createElement(P.Z,{open:d.isCopySnackbarOpen,onClose:()=>u({type:"CLOSE_COPY_SNACKBAR"}),message:i.team.build.copySnackbarMsg,type:"success"}),o.createElement(P.Z,{open:d.isUploadSnackbarOpen,onClose:()=>u({type:"CLOSE_UPLOAD_SNACKBAR"}),message:i.team.build.uploadSnackbarMsg,type:"success"}),o.createElement(P.Z,{open:d.isErrorSnackbarOpen,onClose:()=>u({type:"HANDLE_ERROR_SNACKBAR",open:!1}),message:i.team.build.unknownError,type:"error"}))},Ze=(0,i.default)(C.ZP).withConfig({displayName:"build__StyledHeader",componentId:"sc-9mytr3-11"})(["position:relative;left:-1rem;width:100%;height:auto;margin:0;padding:0 0 0 1rem;border:none;label{margin-right:0.6rem;font-size:large;text-transform:none;}> div:first-child{max-width:50%;}> div:last-child{position:relative;display:flex;bottom:-0.2rem;right:-1rem;}"]),je=i.default.a.withConfig({displayName:"build__StyledA",componentId:"sc-9mytr3-12"})(["margin-right:0.4rem;color:",";text-decoration:none;&:hover{color:",";}"],(e=>e.theme.colors.link),(e=>e.theme.colors.linkHover)),Le=i.default.div.withConfig({displayName:"build__ExportWrapper",componentId:"sc-9mytr3-13"})(["max-width:1000px;margin:-1.5rem calc(50% - 500px - 1rem);padding:1rem;padding-top:1.5rem;@media screen and (max-width:1064px){margin:-1.5rem -0.8rem 0 -0.8rem;}"]),Me=(0,i.default)(s.Z).withConfig({displayName:"build__StyledDivider",componentId:"sc-9mytr3-14"})(["&&{margin:0.5rem 0;background-color:",";}"],(e=>e.theme.colors.dropdownHover)),Ae=()=>{var{pageString:e}=(0,y.f)(),{currentTeam:t}=(0,p.q)(),r=(0,o.useRef)(),{isExporting:n,exportImage:a}=(0,v.Z)();return o.createElement(Le,{ref:r},o.createElement(De,{isExporting:n,handleExport:()=>a({componentRef:r,fileName:t.name?t.name:"team-composition"})}),o.createElement(Me,null),o.createElement(Ee,null))}}}]);
//# sourceMappingURL=component---src-pages-team-build-js-76eeb54c664933a4b544.js.map