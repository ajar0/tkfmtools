"use strict";(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[182],{74772:function(e,t,r){r.d(t,{Q:function(){return s},qg:function(){return u},cP:function(){return g}});var a=r(67294),n=r(53583),l=r(42857),o=r(93175),i=r(95167),s=e=>{var{children:t,className:r,imgType:n,imgId:l,alt:o,isBackground:i}=e;return i?a.createElement(d,{className:r,name:n+"_"+l,isBackground:!0,alt:o},t):a.createElement(c,{className:r},a.createElement(d,{name:n+"_"+l,alt:o}),t)},d=(0,n.default)(o.Z).withConfig({displayName:"Card__StyledImg",componentId:"sc-1duszqx-0"})(["display:flex;justify-content:center;align-items:center;width:100%;background-repeat:no-repeat;"]),c=n.default.div.withConfig({displayName:"Card__ImgWrapper",componentId:"sc-1duszqx-1"})(["display:flex;align-items:center;justify-content:center;"]),u=e=>{var{className:t,id:r}=e,{itemString:n}=(0,l.f)();return a.createElement(m,{className:t,imgType:"item",imgId:r,alt:""},a.createElement(p,null,n.name[r]))},m=(0,n.default)(s).withConfig({displayName:"Card__ItemImg",componentId:"sc-1duszqx-2"})(["> div:first-child{width:2.5rem;height:2.5rem;margin-right:0.4rem;user-select:none;}"]),p=n.default.div.withConfig({displayName:"Card__TextWrapper",componentId:"sc-1duszqx-3"})(["white-space:nowrap;font-size:medium;font-weight:normal;"]),g=e=>{var{className:t,children:r,striped:n}=e;return a.createElement(f,{className:t,$striped:n},r)},f=(0,n.default)(i.Z).withConfig({displayName:"Card__StyledTable",componentId:"sc-1duszqx-4"})([".MuiTableCell-root{font-size:0.9rem;padding:0.3rem;padding-left:0.75rem;}"])},47233:function(e,t,r){r.d(t,{Ps:function(){return b},ac:function(){return w}});var a=r(45987),n=r(67294),l=r(53583),o=r(33182),i=r(70943),s=r(57783),d=r(42857),c=r(74772),u=r(28437),m=r(5102),p=["available"],g=e=>{var{className:t,id:r}=e,{charString:a}=(0,d.f)();return n.createElement(f,{className:t,imgType:"char_small",imgId:r,alt:"",isBackground:!0},n.createElement(y,null,a.name[r].split(" ").slice(0,-1).join(" ")),n.createElement(h,null,a.name[r].split(" ").slice(-1)[0]))},f=(0,l.default)(c.Q).withConfig({displayName:"CharCard__StyledCard",componentId:"sc-1p8ym1z-0"})(["flex-direction:column;align-items:flex-end;justify-content:space-around;width:100%;min-width:10rem;height:3.6rem;background-repeat:no-repeat;background-size:6rem 6rem;background-position:0 -1.6rem;"]),h=l.default.div.withConfig({displayName:"CharCard__TextWrapper",componentId:"sc-1p8ym1z-1"})(["margin-left:0;margin-right:1rem;transition:all 0.3s ease;text-transform:none;",""],(e=>{var{theme:t}=e;return"\n  text-shadow: 0 0 1px "+t.colors.surface+",\n    -2px 0 1px "+t.colors.surface+",\n    2px 0 1px "+t.colors.surface+",\n    0 -2px 1px "+t.colors.surface+",\n    0 2px 1px "+t.colors.surface+",\n    2px 2px 1px "+t.colors.surface+",\n    2px -2px 1px "+t.colors.surface+",\n    -2px 2px 1px "+t.colors.surface+",\n    -2px -2px 1px "+t.colors.surface+";"})),y=(0,l.default)(h).withConfig({displayName:"CharCard__TitleText",componentId:"sc-1p8ym1z-2"})(["font-size:small;"]),v={TABLE:{"zh-TW":900,en:1300,ja:1300,ko:1300},FILTER:{"zh-TW":1360,en:1360,ja:1460,ko:1360}},b=(0,l.default)(g).attrs((e=>{var{$lang:t,$type:r}=e;return{$textWrapConfig:v[r][t]}})).withConfig({displayName:"CharCard__ResponsiveCharCard",componentId:"sc-1p8ym1z-3"})(["@media screen and (min-width:","px){flex-direction:row;align-items:center;justify-content:flex-start;> div{margin-left:7rem;}> div:last-child{margin-left:-0.6rem;}}"],(e=>{var{$textWrapConfig:t}=e;return t})),C=e=>{var{type:t,tag:r}=e,{charString:a}=(0,d.f)(),l={attribute:u.XV,position:u.$g,race:u.i6,body:u.cp,oppai:u.JU,rank:u.U2,else:u.fP};return n.createElement(o.Z,null,n.createElement(i.Z,null,n.createElement(E,null,n.createElement(x,null,l[t]),a.tags[r])))},E=l.default.div.withConfig({displayName:"CharCard__TagWrapper",componentId:"sc-1p8ym1z-4"})(["display:flex;flex-direction:row;"]),x=l.default.div.withConfig({displayName:"CharCard__IconWrapper",componentId:"sc-1p8ym1z-5"})(["margin-bottom:0.1rem;margin-left:0.25rem;margin-right:0.4rem;> svg{width:1.2rem;fill:",";color:",";}"],(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.secondary})),w=e=>{var{id:t}=e,{charString:r}=(0,d.f)(),{tags:l}=m.find((e=>e.id===t)),{available:u}=l,g=(0,a.Z)(l,p);return u?n.createElement(c.cP,{striped:!0},n.createElement(s.Z,null,Object.entries(g).map(((e,t)=>{var[r,a]=e;return"else"===r?a.map((e=>n.createElement(C,{key:e,type:"else",tag:e}))):a>=0?n.createElement(C,{key:a,type:r,tag:a}):null})))):n.createElement(c.cP,{striped:!0},n.createElement(s.Z,null,n.createElement(o.Z,null,n.createElement(i.Z,null,r.tagWarnMsg))))};t.ZP=g},24452:function(e,t,r){var a=r(67294),n=r(53583),l=r(50033),o=r(42857),i=r(25072),s=r(59882),d=(0,n.default)(l.Z).withConfig({displayName:"ResultTablePanel__TableWrapper",componentId:"sc-lhulap-0"})(["max-height:",";overflow-x:hidden;overflow-y:auto;"],(e=>e.$maxHeight)),c=(0,n.default)(s.ZP).withConfig({displayName:"ResultTablePanel__StyledSortableTable",componentId:"sc-lhulap-1"})(["img{width:1.8rem;height:1.8rem;}td{padding-left:0.75rem;}"]);t.Z=e=>{var{data:t,head:r,body:n,sortFunc:l,defaultSortKey:s,maxHeight:u,striped:m,headerEnd:p,helpModal:g}=e,{pageString:f}=(0,o.f)(),{0:h,1:y}=(0,a.useState)(!1);return a.createElement(a.Fragment,null,a.createElement(i.Z,{title:f.items.drop.filter.resultTitle,withHelp:!0,onClickHelp:()=>y(!0),end:p,border:!0}),a.createElement(d,{$maxHeight:u},a.createElement(c,{data:t,head:r,body:n,sortFunc:l,defaultSortKey:s,striped:m})),g&&a.cloneElement(g,{open:h,onClose:()=>y(!1)}))}},40122:function(e,t,r){r.d(t,{C:function(){return I},Z:function(){return W}});var a=r(45987),n=r(67294),l=r(53583),o=r(4942),i=r(63366),s=r(87462),d=r(85505),c=r(49408),u=r(67663),m=r(21919),p=r(49240),g=r(10184),f=r(87568),h=r(90240),y=r(62194);function v(e){return(0,h.Z)("MuiToggleButton",e)}var b=(0,y.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),C=r(85893),E=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],x=(0,f.ZP)(m.Z,{name:"MuiToggleButton",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t["size".concat((0,p.Z)(r.size))]]}})((function(e){var t,r=e.theme,a=e.ownerState,n="standard"===a.color?r.palette.text.primary:r.palette[a.color].main;return(0,s.Z)({},r.typography.button,{borderRadius:r.shape.borderRadius,padding:11,border:"1px solid ".concat(r.palette.divider),color:r.palette.action.active},a.fullWidth&&{width:"100%"},(t={},(0,o.Z)(t,"&.".concat(b.disabled),{color:r.palette.action.disabled,border:"1px solid ".concat(r.palette.action.disabledBackground)}),(0,o.Z)(t,"&:hover",{textDecoration:"none",backgroundColor:(0,u.Fq)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}),(0,o.Z)(t,"&.".concat(b.selected),{color:n,backgroundColor:(0,u.Fq)(n,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:(0,u.Fq)(n,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,u.Fq)(n,r.palette.action.selectedOpacity)}}}),t),"small"===a.size&&{padding:7,fontSize:r.typography.pxToRem(13)},"large"===a.size&&{padding:15,fontSize:r.typography.pxToRem(15)})})),w=n.forwardRef((function(e,t){var r=(0,g.Z)({props:e,name:"MuiToggleButton"}),a=r.children,n=r.className,l=r.color,o=void 0===l?"standard":l,u=r.disabled,m=void 0!==u&&u,f=r.disableFocusRipple,h=void 0!==f&&f,y=r.fullWidth,b=void 0!==y&&y,w=r.onChange,Z=r.onClick,S=r.selected,T=r.size,_=void 0===T?"medium":T,k=r.value,z=(0,i.Z)(r,E),N=(0,s.Z)({},r,{color:o,disabled:m,disableFocusRipple:h,fullWidth:b,size:_}),I=function(e){var t=e.classes,r=e.fullWidth,a=e.selected,n=e.disabled,l=e.size,o=e.color,i={root:["root",a&&"selected",n&&"disabled",r&&"fullWidth","size".concat((0,p.Z)(l)),o]};return(0,c.Z)(i,v,t)}(N);return(0,C.jsx)(x,(0,s.Z)({className:(0,d.Z)(I.root,n),disabled:m,focusRipple:!h,ref:t,onClick:function(e){Z&&(Z(e,k),e.defaultPrevented)||w&&w(e,k)},onChange:w,value:k,ownerState:N,"aria-pressed":S},z,{children:a}))}));r(8812);function Z(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}function S(e){return(0,h.Z)("MuiToggleButtonGroup",e)}var T=(0,y.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),_=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],k=(0,f.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[(0,o.Z)({},"& .".concat(T.grouped),t.grouped),(0,o.Z)({},"& .".concat(T.grouped),t["grouped".concat((0,p.Z)(r.orientation))]),t.root,"vertical"===r.orientation&&t.vertical,r.fullWidth&&t.fullWidth]}})((function(e){var t=e.ownerState,r=e.theme;return(0,s.Z)({display:"inline-flex",borderRadius:r.shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},(0,o.Z)({},"& .".concat(T.grouped),(0,s.Z)({},"horizontal"===t.orientation?(0,o.Z)({"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0}},"&.".concat(T.selected," + .").concat(T.grouped,".").concat(T.selected),{borderLeft:0,marginLeft:0}):(0,o.Z)({"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},"&.".concat(T.selected," + .").concat(T.grouped,".").concat(T.selected),{borderTop:0,marginTop:0}))))})),z=n.forwardRef((function(e,t){var r=(0,g.Z)({props:e,name:"MuiToggleButtonGroup"}),a=r.children,l=r.className,o=r.color,u=void 0===o?"standard":o,m=r.disabled,f=void 0!==m&&m,h=r.exclusive,y=void 0!==h&&h,v=r.fullWidth,b=void 0!==v&&v,E=r.onChange,x=r.orientation,w=void 0===x?"horizontal":x,T=r.size,z=void 0===T?"medium":T,N=r.value,I=(0,i.Z)(r,_),R=(0,s.Z)({},r,{disabled:f,fullWidth:b,orientation:w,size:z}),B=function(e){var t=e.classes,r=e.orientation,a=e.fullWidth,n=e.disabled,l={root:["root","vertical"===r&&"vertical",a&&"fullWidth"],grouped:["grouped","grouped".concat((0,p.Z)(r)),n&&"disabled"]};return(0,c.Z)(l,S,t)}(R),L=function(e,t){if(E){var r,a=N&&N.indexOf(t);N&&a>=0?(r=N.slice()).splice(a,1):r=N?N.concat(t):[t],E(e,r)}},W=function(e,t){E&&E(e,N===t?null:t)};return(0,C.jsx)(k,(0,s.Z)({role:"group",className:(0,d.Z)(B.root,l),ref:t,ownerState:R},I,{children:n.Children.map(a,(function(e){return n.isValidElement(e)?n.cloneElement(e,{className:(0,d.Z)(B.grouped,e.props.className),onChange:y?W:L,selected:void 0===e.props.selected?Z(e.props.value,N):e.props.selected,size:e.props.size||z,fullWidth:b,color:e.props.color||u,disabled:e.props.disabled||f}):null}))}))})),N=["className","children","value"],I=e=>{var{className:t,children:r,value:l}=e,o=(0,a.Z)(e,N);return n.createElement(R,Object.assign({className:t,value:l,disableFocusRipple:!0},o),r)},R=(0,l.default)(w).withConfig({displayName:"ToggleButtonGroup__StyledToggleButton",componentId:"sc-ck96wo-0"})(["&&&{padding:0.3rem 0.15rem;border-radius:0.25rem;border:1px solid ",";background-color:",";color:",";white-space:break-spaces;user-select:none;text-transform:none;&:hover{border:1px solid ",";box-shadow:inset 0 0 0.5rem ",",0 0 0.1rem ",";}}svg{width:1.6rem;height:1.4rem;margin-right:0.6rem;vertical-align:middle;fill:",";color:",";}"],(e=>{var{theme:t}=e;return t.colors.secondaryBorder}),(e=>{var{theme:t}=e;return t.colors.surface}),(e=>{var{theme:t}=e;return t.colors.onSurface}),(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.secondary})),B={ENLIST_FILTER:{en:{1400:5,1160:4,1e3:3,768:4,580:3,0:2},"zh-TW":{1260:6,1080:5,1e3:4,768:5,550:4,355:3,0:2},ja:{1460:6,1250:5,1030:4,1e3:3,768:5,630:4,430:3,0:2},ko:{1260:6,768:5,550:4,365:3,0:2}},ITEM_DROPS_FILTER:{en:{1360:4,992:3,768:4,624:3,0:2},"zh-TW":{1360:5,992:4,768:5,624:4,410:3,0:2},ja:{1360:5,992:4,768:5,624:4,410:3,0:2},ko:{1460:5,1200:4,1e3:3,920:5,740:4,570:3,0:2}},ITEM_DROPS_TABLE:{en:{0:2,990:4},"zh-TW":{0:4},ja:{0:4},ko:{0:4}}},L=(0,l.default)(z).attrs((e=>{var{$lang:t,$type:r}=e;return{$layoutConfig:B[r][t]}})).withConfig({displayName:"ToggleButtonGroup__StyledToggleButtonGroup",componentId:"sc-ck96wo-1"})(["&&&{display:grid;gap:0.5rem;"," .Mui-selected{background-color:",";color:",";svg{fill:",";color:",";}}}"],(e=>{var{$layoutConfig:t}=e;return Object.entries(t).map((e=>{var[t,r]=e;return"@media screen and (min-width: "+t+"px) {\n                grid-template-columns: repeat("+r+", 1fr);\n            }"}))}),(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.onSecondary}),(e=>{var{theme:t}=e;return t.colors.onSecondary}),(e=>{var{theme:t}=e;return t.colors.onSecondary})),W=e=>{var{children:t,className:r,value:a,onChange:l,$lang:o,$type:i}=e;return n.createElement(L,{className:r,value:a,onChange:l,$lang:o,$type:i},t)}},12901:function(e,t,r){r.r(t),r.d(t,{default:function(){return pe}});var a=r(4942),n=r(45987),l=r(67294),o=r(53583),i=r(17708),s=r(33182),d=r(79297),c=r(57783),u=r(70943),m=r(10026),p=r(77447),g=r(54480),f=r(42857),h=r(50033),y=r(95167),v=r(25072),b=()=>{var{pageString:e}=(0,f.f)();return l.createElement(i.Z,null,l.createElement(s.Z,null,e.enlist.filter.tableHead.map(((e,t)=>l.createElement(C,{key:t},e.title)))))},C=(0,o.default)(u.Z).withConfig({displayName:"table-head__CellWrapper",componentId:"sc-1azc40m-0"})(["background-color:",";color:",";user-select:none;"],(e=>{var{theme:t}=e;return t.colors.surface}),(e=>{var{theme:t}=e;return t.colors.onSurface})),E=r(74772),x=e=>{var{sortedData:t}=e,{charString:r}=(0,f.f)();return l.createElement(c.Z,null,t.map(((e,t)=>l.createElement(s.Z,{key:t},l.createElement(u.Z,{padding:"none"},t+1),l.createElement(u.Z,null,l.createElement(w,null,e.tags.map((e=>r.tags[e])).join(", "))),l.createElement(u.Z,null,l.createElement(Z,null,e.characters.map((e=>l.createElement(S,{rarity:e.rarity,key:e.id},l.createElement(T,{rarity:e.rarity,imgType:"char_small",imgId:e.id,alt:""}),r.name[e.id].split(" ").slice(-1)[0])))))))))},w=o.default.span.withConfig({displayName:"table-body__TextWrapper",componentId:"sc-s0efkm-0"})(["word-break:keep-all;white-space:break-spaces;@media screen and (max-width:600px){font-size:small;}"]),Z=o.default.div.withConfig({displayName:"table-body__CardRow",componentId:"sc-s0efkm-1"})(["width:100%;display:flex;flex-wrap:wrap;"]),S=o.default.div.withConfig({displayName:"table-body__Card",componentId:"sc-s0efkm-2"})(["",""],(e=>{var{theme:t}=e;return"\n  display: flex;\n  align-items: center;\n  height: 3rem;\n  padding: 1px 8px 1px 1px;\n  margin: 4px;\n  background-color: "+t.colors.dropdownHover+"40;\n  box-shadow: 2px 2px 2px 1px\n    "+t.colors.dropdownHover+"80;\n  border-radius: 3rem;\n  color: "+t.colors.onSurface+";\n  @media screen and (max-width: 600px) {\n    font-size: small;\n  }"})),T=(0,o.default)(E.Q).withConfig({displayName:"table-body__CharacterImage",componentId:"sc-s0efkm-3"})(["margin-right:2px;> div:first-child{width:3rem;height:3rem;border-radius:100%;border:2.5px solid ",";}img{border:none;}"],(e=>{var{theme:t,rarity:r}=e;return r<2?t.colors.shadow:t.colors.secondary})),_=e=>{var{filteredData:t,maxHeight:r,striped:a,helpModal:n}=e,{pageString:o}=(0,f.f)(),{0:i,1:s}=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(v.Z,{title:o.items.drop.filter.resultTitle,withHelp:!0,onClickHelp:()=>s(!0),border:!0}),l.createElement(k,{$maxHeight:r},l.createElement(z,{stickyHeader:!0,$striped:a,size:"small"},l.createElement(b,null),l.createElement(x,{sortedData:t}))),n&&l.cloneElement(n,{open:i,onClose:()=>s(!1)}))},k=(0,o.default)(h.Z).withConfig({displayName:"result-table__TableWrapper",componentId:"sc-vcw2pd-0"})(["max-height:",";overflow-x:hidden;overflow-y:auto;@media screen and (max-width:1000px){overflow-y:hidden;}"],(e=>{var{$maxHeight:t}=e;return t})),z=(0,o.default)(y.Z).withConfig({displayName:"result-table__StyledTable",componentId:"sc-vcw2pd-1"})(["td{padding-left:0.75rem;}"]),N=r(24452),I=r(59882),R=r(24069),B=r(4389),L=r(40122),W=r(14080),j=r(47233),M=r(22776),O=r(79401),H=r(62583),$=r(28437),P=JSON.parse('[{"type":"attribute","range":[0,5]},{"type":"position","range":[5,10]},{"type":"race","range":[10,13]},{"type":"body","range":[13,15]},{"type":"oppai","range":[15,18]},{"type":"rank","range":[18,21]},{"type":"else","range":[21,33]}]'),q=r(5102),F=["else"];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=e=>{var{value:t,onChange:r,groupRange:a,$lang:n}=e,{charString:o}=(0,f.f)(),i={attribute:$.XV,position:$.$g,race:$.i6,body:$.cp,oppai:$.JU,rank:$.U2,else:$.fP};return l.createElement(L.Z,{value:t,onChange:r,$lang:n,$type:"ENLIST_FILTER"},P.slice(a[0],a[1]).map((e=>[...Array(e.range[1]).keys()].slice(e.range[0]).map((t=>l.createElement(L.C,{value:t,key:t},i[e.type],o.tags[t]))))))},G=e=>{var{filterBtnValue:t,handleBtnGroupChange:r,groupBtnByClass:a}=e,{userLanguage:n,charString:o}=(0,f.f)();return l.createElement("div",null,a?P.map(((e,a)=>l.createElement(J,{key:a},l.createElement(Q,{label:o.tagAttributes[e.type],$lang:n}),l.createElement(A,{value:t.filter((t=>t>=e.range[0]&&t<e.range[1])),onChange:r(a),groupRange:[a,a+1],$lang:n})))):l.createElement(J,null,l.createElement(A,{value:t,onChange:r(),groupRange:[0,7],$lang:n})))},J=o.default.div.withConfig({displayName:"filter__BtnGroupWrapper",componentId:"sc-1hqyze1-0"})(["position:relative;padding:0.5rem;padding-top:0.8rem;margin:1rem 0;border-radius:0.25rem;border:1px solid ",";background-color:",";"],(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.surface})),Q=(0,o.default)(B.qc).withConfig({displayName:"filter__AttributeChip",componentId:"sc-1hqyze1-1"})(["position:absolute;z-index:1;top:-0.6rem;width:",";background-color:brown;color:white;"],(e=>{var{$lang:t}=e;return"en"===t?"4.5rem":"auto"})),U=e=>{var{clearBtnValue:t,filterBtnValue:r,enlistHour:a,handleBtnGroupChange:n,handleEnlistHourChange:o,filterLayout:i,resultLayout:s,handleLayoutChange:d,groupBtnByClass:c}=e,{pageString:u}=(0,f.f)(),{0:m,1:p}=(0,l.useState)("00"),{0:g,1:h}=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(v.Z,{title:u.enlist.filter.tagSelectTitle,titleIcon:$.lO,end:l.createElement(l.Fragment,null,l.createElement(R.Io,{onClick:t,tooltipText:u.enlist.filter.deleteTooltip},$.pJ),l.createElement(R.Io,{onClick:()=>h(!0),tooltipText:u.enlist.filter.settingTooltip},$.qY)),border:!0}),l.createElement(G,{filterBtnValue:r,handleBtnGroupChange:n,groupBtnByClass:c}),l.createElement(K,{title:u.enlist.filter.timeSelectTitle,titleIcon:$.T3,border:!0}),l.createElement(X,null,l.createElement(ee,{values:[...Array(10).keys()].slice(1),value:a,variant:"outlined",size:"small",inputProps:{"aria-label":"recruitment-hour"},onChange:o}),"：",l.createElement(ee,{values:["00","10","20","30","40","50"],value:m,variant:"outlined",size:"small",inputProps:{"aria-label":"recruitment-minute"},onChange:e=>p(e.target.value)})),l.createElement(ie,{open:g,onClose:()=>h(!1),filterLayout:i,resultLayout:s,handleLayoutChange:d}))},K=(0,o.default)(v.Z).withConfig({displayName:"filter__StyledHeader",componentId:"sc-1hqyze1-2"})(["padding-bottom:0.4rem;"]),Y=o.default.div.withConfig({displayName:"filter__IconWrapper",componentId:"sc-1hqyze1-3"})(["svg{width:1.2rem;height:1.2rem;margin-right:0.4rem;margin-bottom:0.2rem;fill:",";color:",";}"],(e=>{var{theme:t}=e;return t.colors.onSurface}),(e=>{var{theme:t}=e;return t.colors.onSurface})),X=o.default.div.withConfig({displayName:"filter__SelectWrapper",componentId:"sc-1hqyze1-4"})(["display:flex;align-items:center;"]),ee=(0,o.default)(W.P).withConfig({displayName:"filter__StyledSelect",componentId:"sc-1hqyze1-5"})([".MuiSelect-select{padding:0.2rem 1.4rem 0.2rem 0.6rem;}"]),te=e=>{var{requestSort:t,getSortDirection:r}=e,{pageString:a}=(0,f.f)();return l.createElement(i.Z,null,l.createElement(s.Z,null,a.enlist.filter.tableHeadByCharacter.map(((e,a)=>l.createElement(I.Re,{key:a,onClick:()=>t(e.attr),direction:r(e.attr)},e.title)))))},re=e=>{var{children:t,char:r}=e,{charString:a,pageString:n}=(0,f.f)(),o=r.distinctTagCombs.map((e=>e.map((e=>a.tags[e])).join(", "))).join("\n"),i=r.guaranteeSRTagCombs.map((e=>e.map((e=>a.tags[e])).join(", "))).join("\n"),s=0===i.length?o:0===o.length?n.enlist.filter.guaranteeSR+":\n"+i:o+"\n"+n.enlist.filter.guaranteeSR+":\n"+i;return l.createElement(m.Z,{title:s,TransitionComponent:d.Z,placement:"bottom",arrow:!0},t)},ae=e=>{var{sortedData:t}=e,{userLanguage:r,charString:a}=(0,f.f)();return l.createElement(c.Z,null,t.map((e=>{return l.createElement(s.Z,{key:e.id},l.createElement(u.Z,null,l.createElement(re,{char:e},l.createElement(ne,null,l.createElement(j.Ps,{id:e.id,$lang:r,$type:"FILTER"}),l.createElement(le,null,0!==e.distinctTagCombs.length?l.createElement(oe,null,$.r7):null,0!==e.guaranteeSRTagCombs.length?l.createElement(oe,null,$.lO):null)))),l.createElement(u.Z,null,0===(t=e.rarity)?"N":1===t?"R":2===t?"SR":"SSR"),l.createElement(u.Z,null,e.appliedTags.map((e=>a.tags[e])).join(", ")));var t})))},ne=o.default.div.withConfig({displayName:"filter__CharCardWrapper",componentId:"sc-1hqyze1-6"})(["display:flex;flex-direction:row;justify-content:flex-start;margin-left:-0.75rem;width:max-content;"]),le=o.default.div.withConfig({displayName:"filter__MarksContainer",componentId:"sc-1hqyze1-7"})(["display:flex;flex-direction:column;justify-content:center;"]),oe=(0,o.default)(Y).withConfig({displayName:"filter__MarkIconWrapper",componentId:"sc-1hqyze1-8"})(["display:flex;align-items:center;svg{width:1rem;height:1rem;margin:0.1rem 0 0.1rem -0.6rem;}"]),ie=e=>{var{open:t,onClose:r,filterLayout:a,resultLayout:n,handleLayoutChange:o}=e,{pageString:i}=(0,f.f)();return l.createElement(se,{title:i.enlist.filter.settingModal.title,open:t,onClose:r,ariaLabelledby:"setting-modal-title",ariaDescribedby:"setting-modal-description"},l.createElement(O.Z,{label:i.enlist.filter.settingModal.groupLabel,value:i.enlist.filter.settingModal.labels[a],handleChange:o("filter")},i.enlist.filter.settingModal.labels.map((e=>l.createElement(O.Y,{label:e,value:e,key:e})))),l.createElement(O.Z,{label:i.enlist.filter.settingModal.resultDisplay,value:i.enlist.filter.settingModal.resultLabels[n],handleChange:o("result")},i.enlist.filter.settingModal.resultLabels.map((e=>l.createElement(O.Y,{label:e,value:e,key:e})))))},se=(0,o.default)(M.WQ).withConfig({displayName:"filter__StyledModal",componentId:"sc-1hqyze1-9"})(["> div:nth-child(3){top:25%;width:30%;min-width:max-content;}"]),de=e=>{var{open:t,onClose:r}=e,{pageString:a}=(0,f.f)();return l.createElement(M.p2,{title:a.enlist.filter.helpModal.title,open:t,onClose:r,content:a.enlist.filter.helpModal.content,ariaLabelledby:"help-modal-title",ariaDescribedby:"help-modal-description"})};function*ce(e,t){for(var r=0;r<e.length;r++)if(1===t)yield[e[r]];else{var a=ce(e.slice(r+1,e.length),t-1);for(var n of a)yield[e[r],...n]}}var ue=(e,t)=>{for(var r=Array.from(t),a=function(t){e.every((e=>r[t].includes(e)))&&r.splice(t,1)},n=r.length-1;n>=0;n--)a(n);return r.push(e),r},me=q.filter((e=>e.tags.available)).map((e=>{var{id:t,rarity:r,tags:a}=e,{else:l}=a,o=(0,n.Z)(a,F);return{id:t,rarity:r,tags:[...Object.values(o),...l]}})),pe=()=>{var{pageString:e,charString:t}=(0,f.f)(),{0:r,1:a}=(0,l.useState)({filterBtnValue:[],enlistHour:9}),{0:n,1:o}=(0,l.useState)(!1),{layout:i,setLayout:s}=(0,p.Z)("group-btns-by-class",[0,1],"undefined"==typeof window||window.innerWidth<=1e3?1:0),{layout:d,setLayout:c}=(0,p.Z)("show-filter-result-by",[0,1],0),u=(0,l.useCallback)((e=>{var t=Array.from(me);if(!e.includes(20)){var a=r.enlistHour<4&&!e.includes(19)?2:3;t=t.filter((e=>e.rarity<a))}return t.filter((t=>{return r=t.tags,e.every((e=>r.includes(e)));var r}))}),[r.enlistHour]),m=(0,l.useCallback)(((e,r)=>{e.sort(((e,a)=>{var n,l;return"appliedTags"===r.key?(n=e[r.key].join(""),l=a[r.key].join("")):"name"===r.key?(n=t.name[e.id],l=t.name[a.id]):(n=e[r.key],l=a[r.key]),n<l?"asc"===r.direction?-1:1:n>l?"asc"===r.direction?1:-1:0}))}),[t]),h=(0,l.useMemo)((()=>{if(0===r.filterBtnValue.length)return[];var e=[...r.filterBtnValue].sort();try{dataLayer&&5===e.length&&dataLayer.push({event:"five_tags_selected",character_tag_combination:e})}catch(n){}if(1===d){var t=function(){for(var t=[],r=Math.min(e.length,3);r>0;r--){Array.from(ce(e,r)).forEach((e=>{var r,a,n=u(e);n.length>0&&t.push({tags:e,characters:n,score:(r=n,a=Array(4).fill(!1),r.forEach((e=>{a[e.rarity]=!0})),a.reduce(((e,t,r)=>e+(t?(r-1.4)*(r+1):0)),0))})}))}return{v:t.sort(((e,t)=>t.score-e.score))}}();if("object"==typeof t)return t.v}else{var a=function(){for(var t=[],r=e.length;r>0;r--){Array.from(ce(e,r)).forEach((e=>{var r=u(e);if(1===r.length&&e.length<=3){var a=t.find((e=>e.id===r[0].id));a?a.distinctTagCombs=ue(e,a.distinctTagCombs):t.push({id:r[0].id,rarity:r[0].rarity,appliedTags:e,distinctTagCombs:[e],guaranteeSRTagCombs:[]})}else{var n=e.length<=3&&r.every((e=>2===e.rarity));r.forEach((r=>{var a=t.find((e=>e.id===r.id));a?n&&(a.guaranteeSRTagCombs=ue(e,a.guaranteeSRTagCombs)):t.push({id:r.id,rarity:r.rarity,appliedTags:e,distinctTagCombs:[],guaranteeSRTagCombs:n?[e]:[]})}))}}))}return{v:t}}();if("object"==typeof a)return a.v}}),[r.filterBtnValue,r.enlistHour,d]);return l.createElement(l.Fragment,null,l.createElement(g.Z,{panelsWidth:["60%","40%"]},l.createElement(U,{handleBtnGroupChange:e=>(t,n)=>{var l;if(void 0!==e){var i=P.map((e=>r.filterBtnValue.filter((t=>t>=e.range[0]&&t<e.range[1]))));i[e]=n,l=[].concat(...i)}else l=n;l.length>5?o(!0):a((e=>D(D({},e),{},{filterBtnValue:l})))},clearBtnValue:()=>{a((e=>D(D({},e),{},{filterBtnValue:[]})))},enlistHour:r.enlistHour,handleEnlistHourChange:e=>{a((t=>D(D({},t),{},{enlistHour:+e.target.value})))},filterBtnValue:r.filterBtnValue,filterLayout:i,resultLayout:d,handleLayoutChange:t=>r=>{a((e=>D(D({},e),{},{isSettingModalOpen:!1}))),"filter"===t?s(e.enlist.filter.settingModal.labels.indexOf(r.target.value)):"result"===t&&c(e.enlist.filter.settingModal.resultLabels.indexOf(r.target.value))},groupBtnByClass:0===i}),1===d?l.createElement(_,{filteredData:h,maxHeight:0===i?"calc(100vh - 5rem)":"calc(100vh - 16rem)",striped:!0,helpModal:l.createElement(de,null)}):l.createElement(N.Z,{data:h,head:l.createElement(te,null),body:l.createElement(ae,null),sortFunc:m,defaultSortKey:"rarity",maxHeight:0===i?"calc(100vh - 5rem)":"calc(100vh - 16rem)",striped:!0,helpModal:l.createElement(de,null)})),l.createElement(H.Z,{open:n,onClose:()=>o(!1),message:e.enlist.filter.snackbarMsg,type:"warn"}))}}}]);
//# sourceMappingURL=component---src-pages-enlist-filter-js-55093875c66e5b25a34c.js.map