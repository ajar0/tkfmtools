"use strict";(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[182],{74772:function(e,t,a){a.d(t,{Q:function(){return c},qg:function(){return m},cP:function(){return g}});var r=a(67294),l=a(50009),n=a(42857),o=a(93175),i=a(16855),c=e=>{var{children:t,className:a,imgType:l,imgId:n,alt:o,isBackground:i}=e;return i?r.createElement(d,{className:a,name:l+"_"+n,isBackground:!0,alt:o},t):r.createElement(s,{className:a},r.createElement(d,{name:l+"_"+n,alt:o}),t)},d=(0,l.default)(o.Z).withConfig({displayName:"Card__StyledImg",componentId:"sc-1duszqx-0"})(["display:flex;justify-content:center;align-items:center;width:100%;background-repeat:no-repeat;"]),s=l.default.div.withConfig({displayName:"Card__ImgWrapper",componentId:"sc-1duszqx-1"})(["display:flex;align-items:center;justify-content:center;"]),m=e=>{var{className:t,id:a}=e,{itemString:l}=(0,n.f)();return r.createElement(p,{className:t,imgType:"item",imgId:a,alt:""},r.createElement(u,null,l.name[a]))},p=(0,l.default)(c).withConfig({displayName:"Card__ItemImg",componentId:"sc-1duszqx-2"})(["> div:first-child{width:2.5rem;height:2.5rem;margin-right:0.4rem;user-select:none;}"]),u=l.default.div.withConfig({displayName:"Card__TextWrapper",componentId:"sc-1duszqx-3"})(["white-space:nowrap;font-size:medium;font-weight:normal;"]),g=e=>{var{className:t,children:a,striped:l}=e;return r.createElement(f,{className:t,$striped:l},a)},f=(0,l.default)(i.Z).withConfig({displayName:"Card__StyledTable",componentId:"sc-1duszqx-4"})(["&& .MuiTableCell-root{font-size:0.9rem;padding:0.3rem;padding-left:0.75rem;}"])},47233:function(e,t,a){a.d(t,{Ps:function(){return v},ac:function(){return w}});var r=a(45987),l=a(67294),n=a(50009),o=a(86300),i=a(99395),c=a(49400),d=a(42857),s=a(74772),m=a(28437),p=a(5102),u=["available"],g=e=>{var{className:t,id:a}=e,{charString:r}=(0,d.f)();return l.createElement(f,{className:t,imgType:"char_small",imgId:a,alt:"",isBackground:!0},l.createElement(y,null,r.name[a].split(" ").slice(0,-1).join(" ")),l.createElement(h,null,r.name[a].split(" ").slice(-1)[0]))},f=(0,n.default)(s.Q).withConfig({displayName:"CharCard__StyledCard",componentId:"sc-1p8ym1z-0"})(["flex-direction:column;align-items:flex-end;justify-content:space-around;width:100%;min-width:10rem;height:3.6rem;background-repeat:no-repeat;background-size:6rem 6rem;background-position:0 -1.6rem;"]),h=n.default.div.withConfig({displayName:"CharCard__TextWrapper",componentId:"sc-1p8ym1z-1"})(["margin-left:0;margin-right:1rem;transition:all 0.3s ease;text-transform:none;text-shadow:0 0 1px ",",-2px 0 1px ",",2px 0 1px ",",0 -2px 1px ",",0 2px 1px ",",2px 2px 1px ",",2px -2px 1px ",",-2px 2px 1px ",",-2px -2px 1px ",";"],(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface)),y=(0,n.default)(h).withConfig({displayName:"CharCard__TitleText",componentId:"sc-1p8ym1z-2"})(["font-size:small;"]),b={TABLE:{"zh-TW":900,en:1300,ja:1300,ko:1300},FILTER:{"zh-TW":1360,en:1360,ja:1460,ko:1360}},v=(0,n.default)(g).attrs((e=>{var{$lang:t,$type:a}=e;return{$textWrapConfig:b[a][t]}})).withConfig({displayName:"CharCard__ResponsiveCharCard",componentId:"sc-1p8ym1z-3"})(["@media screen and (min-width:","px){flex-direction:row;align-items:center;justify-content:flex-start;> div{margin-left:7rem;}> div:last-child{margin-left:-0.6rem;}}"],(e=>e.$textWrapConfig)),C=e=>{var{type:t,tag:a}=e,{charString:r}=(0,d.f)(),n={attribute:m.XV,position:m.$g,race:m.i6,body:m.cp,oppai:m.JU,rank:m.U2,else:m.fP};return l.createElement(i.Z,null,l.createElement(c.Z,null,l.createElement(E,null,l.createElement(x,null,n[t]),r.tags[a])))},E=n.default.div.withConfig({displayName:"CharCard__TagWrapper",componentId:"sc-1p8ym1z-4"})(["display:flex;flex-direction:row;"]),x=n.default.div.withConfig({displayName:"CharCard__IconWrapper",componentId:"sc-1p8ym1z-5"})(["margin-bottom:0.1rem;margin-left:0.25rem;margin-right:0.4rem;> svg{width:1.2rem;fill:",";color:",";}"],(e=>e.theme.colors.secondary),(e=>e.theme.colors.secondary)),w=e=>{var{id:t}=e,{charString:a}=(0,d.f)(),{tags:n}=p.find((e=>e.id===t)),{available:m}=n,g=(0,r.Z)(n,u);return m?l.createElement(s.cP,{striped:!0},l.createElement(o.Z,null,Object.entries(g).map(((e,t)=>{var[a,r]=e;return"else"===a?r.map((e=>l.createElement(C,{key:e,type:"else",tag:e}))):r>=0?l.createElement(C,{key:r,type:a,tag:r}):null})))):l.createElement(s.cP,{striped:!0},l.createElement(o.Z,null,l.createElement(i.Z,null,l.createElement(c.Z,null,a.tagWarnMsg))))};t.ZP=g},67e3:function(e,t,a){a.d(t,{m1:function(){return w},bO:function(){return E},$e:function(){return b},qc:function(){return v}});var r=a(67294),l=a(50009),n=a(87462),o=a(45987),i=a(85505),c=(0,a(19123).Z)(r.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),d=a(34621),s=a(37595),m=a(11291),p=a(81664),u=a(67055);function g(e){return"Backspace"===e.key||"Delete"===e.key}var f=r.forwardRef((function(e,t){var a=e.avatar,l=e.classes,d=e.className,s=e.clickable,f=e.color,h=void 0===f?"default":f,y=e.component,b=e.deleteIcon,v=e.disabled,C=void 0!==v&&v,E=e.icon,x=e.label,w=e.onClick,k=e.onDelete,S=e.onKeyDown,_=e.onKeyUp,I=e.size,Z=void 0===I?"medium":I,T=e.variant,N=void 0===T?"default":T,L=(0,o.Z)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),$=r.useRef(null),z=(0,m.Z)($,t),P=function(e){e.stopPropagation(),k&&k(e)},R=!(!1===s||!w)||s,j="small"===Z,B=y||(R?u.Z:"div"),O=B===u.Z?{component:"div"}:{},H=null;if(k){var q=(0,i.Z)("default"!==h&&("default"===N?l["deleteIconColor".concat((0,p.Z)(h))]:l["deleteIconOutlinedColor".concat((0,p.Z)(h))]),j&&l.deleteIconSmall);H=b&&r.isValidElement(b)?r.cloneElement(b,{className:(0,i.Z)(b.props.className,l.deleteIcon,q),onClick:P}):r.createElement(c,{className:(0,i.Z)(l.deleteIcon,q),onClick:P})}var M=null;a&&r.isValidElement(a)&&(M=r.cloneElement(a,{className:(0,i.Z)(l.avatar,a.props.className,j&&l.avatarSmall,"default"!==h&&l["avatarColor".concat((0,p.Z)(h))])}));var F=null;return E&&r.isValidElement(E)&&(F=r.cloneElement(E,{className:(0,i.Z)(l.icon,E.props.className,j&&l.iconSmall,"default"!==h&&l["iconColor".concat((0,p.Z)(h))])})),r.createElement(B,(0,n.Z)({role:R||k?"button":void 0,className:(0,i.Z)(l.root,d,"default"!==h&&[l["color".concat((0,p.Z)(h))],R&&l["clickableColor".concat((0,p.Z)(h))],k&&l["deletableColor".concat((0,p.Z)(h))]],"default"!==N&&[l.outlined,{primary:l.outlinedPrimary,secondary:l.outlinedSecondary}[h]],C&&l.disabled,j&&l.sizeSmall,R&&l.clickable,k&&l.deletable),"aria-disabled":!!C||void 0,tabIndex:R||k?0:void 0,onClick:w,onKeyDown:function(e){e.currentTarget===e.target&&g(e)&&e.preventDefault(),S&&S(e)},onKeyUp:function(e){e.currentTarget===e.target&&(k&&g(e)?k(e):"Escape"===e.key&&$.current&&$.current.blur()),_&&_(e)},ref:z},O,L),M||F,r.createElement("span",{className:(0,i.Z)(l.label,j&&l.labelSmall)},x),H)})),h=(0,d.Z)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],a=(0,s.Fq)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,s._4)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:(0,s._4)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:(0,s._4)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:(0,s._4)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:(0,s._4)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:(0,s._4)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,s.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,s.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,s.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:a,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,s.Fq)(a,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:(0,s.Fq)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:(0,s.Fq)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:(0,s.Fq)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:(0,s.Fq)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(f),y=a(42857),b=()=>{var{userLanguage:e,pageString:t}=(0,y.f)();return r.createElement(C,{label:t.index.updateLog.new,$lang:e})},v=(0,l.default)(h).withConfig({displayName:"Chip__StyledChip",componentId:"sc-1s0dbsc-0"})(["&&{height:auto;width:",";color:",";font-size:small;> span{padding:0 0.4rem;}margin-right:0.4rem;}"],(e=>"en"===e.$lang?"3.8rem":"auto"),(e=>e.theme.colors.onPrimary)),C=(0,l.default)(v).withConfig({displayName:"Chip__StyledNewChip",componentId:"sc-1s0dbsc-1"})(["&&{background-color:",";}"],(e=>e.theme.colors.success)),E=()=>{var{userLanguage:e,pageString:t}=(0,y.f)();return r.createElement(x,{label:t.index.updateLog.fix,$lang:e})},x=(0,l.default)(v).withConfig({displayName:"Chip__StyledFixChip",componentId:"sc-1s0dbsc-2"})(["&&{background-color:",";}"],(e=>e.theme.colors.error)),w=()=>{var{userLanguage:e,pageString:t}=(0,y.f)();return r.createElement(k,{label:t.index.updateLog.change,$lang:e})},k=(0,l.default)(v).withConfig({displayName:"Chip__StyledChangeChip",componentId:"sc-1s0dbsc-3"})(["&&{background-color:",";}"],(e=>e.theme.colors.blue))},24452:function(e,t,a){var r=a(67294),l=a(50009),n=a(50033),o=a(42857),i=a(25072),c=a(59882),d=(0,l.default)(n.Z).withConfig({displayName:"ResultTablePanel__TableWrapper",componentId:"sc-lhulap-0"})(["max-height:",";overflow-x:hidden;overflow-y:auto;"],(e=>e.$maxHeight)),s=(0,l.default)(c.ZP).withConfig({displayName:"ResultTablePanel__StyledSortableTable",componentId:"sc-lhulap-1"})(["img{width:1.8rem;height:1.8rem;}td{padding-left:0.75rem;}"]);t.Z=e=>{var{data:t,head:a,body:l,sortFunc:n,defaultSortKey:c,maxHeight:m,striped:p,headerEnd:u,helpModal:g}=e,{pageString:f}=(0,o.f)(),{0:h,1:y}=(0,r.useState)(!1);return r.createElement(r.Fragment,null,r.createElement(i.ZP,{title:f.items.drop.filter.resultTitle,withHelp:!0,onClickHelp:()=>y(!0),end:u,border:!0}),r.createElement(d,{$maxHeight:m},r.createElement(s,{data:t,head:a,body:l,sortFunc:n,defaultSortKey:c,striped:p})),g&&r.cloneElement(g,{open:h,onClose:()=>y(!1)}))}},12901:function(e,t,a){a.r(t),a.d(t,{default:function(){return ge}});var r=a(4942),l=a(45987),n=a(67294),o=a(50009),i=a(4093),c=a(86300),d=a(99395),s=a(49400),m=a(31334),p=a(136),u=a(34621),g=a(77447),f=a(54480),h=a(42857),y=a(50033),b=a(16855),v=a(25072),C=()=>{var{pageString:e}=(0,h.f)();return n.createElement(i.Z,null,n.createElement(d.Z,null,e.enlist.filter.tableHead.map(((e,t)=>n.createElement(E,{key:t},e.title)))))},E=(0,o.default)(s.Z).withConfig({displayName:"table-head__CellWrapper",componentId:"sc-1azc40m-0"})(["&&{background-color:",";color:",";user-select:none;}"],(e=>e.theme.colors.surface),(e=>e.theme.colors.onSurface)),x=a(74772),w=e=>{var{sortedData:t}=e,{charString:a}=(0,h.f)();return n.createElement(c.Z,null,t.map(((e,t)=>n.createElement(d.Z,{key:t},n.createElement(s.Z,{padding:"none"},t+1),n.createElement(s.Z,null,n.createElement(k,null,e.tags.map((e=>a.tags[e])).join(", "))),n.createElement(s.Z,null,n.createElement(S,null,e.characters.map((e=>n.createElement(_,{rarity:e.rarity,key:e.id},n.createElement(I,{rarity:e.rarity,imgType:"char_small",imgId:e.id,alt:""}),a.name[e.id].split(" ").slice(-1)[0])))))))))},k=o.default.span.withConfig({displayName:"table-body__TextWrapper",componentId:"sc-s0efkm-0"})(["word-break:keep-all;white-space:break-spaces;@media screen and (max-width:600px){font-size:small;}"]),S=o.default.div.withConfig({displayName:"table-body__CardRow",componentId:"sc-s0efkm-1"})(["width:100%;display:flex;flex-wrap:wrap;"]),_=o.default.div.withConfig({displayName:"table-body__Card",componentId:"sc-s0efkm-2"})(["display:flex;align-items:center;height:3rem;padding:1px 8px 1px 1px;margin:4px;background-color:",";box-shadow:2px 2px 2px 1px ",";border-radius:3rem;color:",";@media screen and (max-width:600px){font-size:small;}"],(e=>e.theme.colors.dropdownHover+"40"),(e=>e.theme.colors.dropdownHover+"80"),(e=>e.theme.colors.onSurface)),I=(0,o.default)(x.Q).withConfig({displayName:"table-body__CharacterImage",componentId:"sc-s0efkm-3"})(["margin-right:2px;> div:first-child{width:3rem;height:3rem;border-radius:100%;border:2.5px solid ",";}img{border:none;}"],(e=>e.rarity<2?e.theme.colors.shadow:e.theme.colors.secondary)),Z=e=>{var{filteredData:t,maxHeight:a,striped:r,helpModal:l}=e,{pageString:o}=(0,h.f)(),{0:i,1:c}=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement(v.ZP,{title:o.items.drop.filter.resultTitle,withHelp:!0,onClickHelp:()=>c(!0),border:!0}),n.createElement(T,{$maxHeight:a},n.createElement(N,{stickyHeader:!0,$striped:r,size:"small"},n.createElement(C,null),n.createElement(w,{sortedData:t}))),l&&n.cloneElement(l,{open:i,onClose:()=>c(!1)}))},T=(0,o.default)(y.Z).withConfig({displayName:"result-table__TableWrapper",componentId:"sc-vcw2pd-0"})(["max-height:",";overflow-x:hidden;overflow-y:auto;@media screen and (max-width:1000px){overflow-y:hidden;}"],(e=>e.$maxHeight)),N=(0,o.default)(b.Z).withConfig({displayName:"result-table__StyledTable",componentId:"sc-vcw2pd-1"})(["td{padding-left:0.75rem;}"]),L=a(24452),$=a(59882),z=a(22727),P=a(67e3),R=a(82195),j=a(50190),B=a(47233),O=a(22776),H=a(67993),q=a(79520),M=a(28437),F=JSON.parse('[{"type":"attribute","range":[0,5]},{"type":"position","range":[5,10]},{"type":"race","range":[10,13]},{"type":"body","range":[13,15]},{"type":"oppai","range":[15,18]},{"type":"rank","range":[18,21]},{"type":"else","range":[21,33]}]'),W=a(5102),D=["else"];function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=e=>{var{value:t,onChange:a,groupRange:r,$lang:l}=e,{charString:o}=(0,h.f)(),i={attribute:M.XV,position:M.$g,race:M.i6,body:M.cp,oppai:M.JU,rank:M.U2,else:M.fP};return n.createElement(R.Z,{value:t,onChange:a,$lang:l,$type:"ENLIST_FILTER"},F.slice(r[0],r[1]).map((e=>[...Array(e.range[1]).keys()].slice(e.range[0]).map((t=>n.createElement(R.C,{value:t,key:t},i[e.type],o.tags[t]))))))},U=e=>{var{filterBtnValue:t,handleBtnGroupChange:a,groupBtnByClass:r}=e,{userLanguage:l,charString:o}=(0,h.f)();return n.createElement("div",null,r?F.map(((e,r)=>n.createElement(G,{key:r},n.createElement(J,{label:o.tagAttributes[e.type],$lang:l}),n.createElement(K,{value:t.filter((t=>t>=e.range[0]&&t<e.range[1])),onChange:a(r),groupRange:[r,r+1],$lang:l})))):n.createElement(G,null,n.createElement(K,{value:t,onChange:a(),groupRange:[0,7],$lang:l})))},G=o.default.div.withConfig({displayName:"filter__BtnGroupWrapper",componentId:"sc-1hqyze1-0"})(["position:relative;padding:0.5rem;padding-top:0.8rem;margin:1rem 0;border-radius:0.25rem;border:1px solid ",";background-color:",";"],(e=>e.theme.colors.secondary),(e=>e.theme.colors.surface)),J=(0,o.default)(P.qc).withConfig({displayName:"filter__AttributeChip",componentId:"sc-1hqyze1-1"})(["&&{position:absolute;z-index:1;top:-0.6rem;width:",";background-color:brown;color:white;}"],(e=>"en"===e.$lang?"4.5rem":"auto")),Q=e=>{var{clearBtnValue:t,filterBtnValue:a,enlistHour:r,handleBtnGroupChange:l,handleEnlistHourChange:o,filterLayout:i,resultLayout:c,handleLayoutChange:d,groupBtnByClass:s}=e,{pageString:m}=(0,h.f)(),{0:p,1:u}=(0,n.useState)("00"),{0:g,1:f}=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement(v.ZP,{title:m.enlist.filter.tagSelectTitle,titleIcon:M.lO,end:n.createElement(n.Fragment,null,n.createElement(z.Io,{onClick:t,tooltipText:m.enlist.filter.deleteTooltip},M.pJ),n.createElement(z.Io,{onClick:()=>f(!0),tooltipText:m.enlist.filter.settingTooltip},M.qY)),border:!0}),n.createElement(U,{filterBtnValue:a,handleBtnGroupChange:l,groupBtnByClass:s}),n.createElement(Y,{title:m.enlist.filter.timeSelectTitle,titleIcon:M.T3,border:!0}),n.createElement(ee,{values:[...Array(10).keys()].slice(1),value:r,variant:"outlined",size:"small",inputProps:{"aria-label":"recruitment-hour"},onChange:o}),"：",n.createElement(ee,{values:["00","10","20","30","40","50"],value:p,variant:"outlined",size:"small",inputProps:{"aria-label":"recruitment-minute"},onChange:e=>u(e.target.value)}),n.createElement(ce,{open:g,onClose:()=>f(!1),filterLayout:i,resultLayout:c,handleLayoutChange:d}))},Y=(0,o.default)(v.ZP).withConfig({displayName:"filter__StyledHeader",componentId:"sc-1hqyze1-2"})(["padding-bottom:0.4rem;"]),X=o.default.div.withConfig({displayName:"filter__IconWrapper",componentId:"sc-1hqyze1-3"})(["svg{width:1.2rem;height:1.2rem;margin-right:0.4rem;margin-bottom:0.2rem;fill:",";color:",";}"],(e=>e.theme.colors.onSurface),(e=>e.theme.colors.onSurface)),ee=(0,o.default)(j.P).withConfig({displayName:"filter__StyledSelect",componentId:"sc-1hqyze1-4"})(["&& > div > div{padding-right:1.4rem;}"]),te=e=>{var{requestSort:t,getSortDirection:a}=e,{pageString:r}=(0,h.f)();return n.createElement(i.Z,null,n.createElement(d.Z,null,r.enlist.filter.tableHeadByCharacter.map(((e,r)=>n.createElement($.Re,{key:r,onClick:()=>t(e.attr),direction:a(e.attr)},e.title)))))},ae=(0,u.Z)({tooltip:{right:"0",fontSize:"1rem",whiteSpace:"pre"}})(m.ZP),re=e=>{var{children:t,char:a}=e,{charString:r,pageString:l}=(0,h.f)(),o=a.distinctTagCombs.map((e=>e.map((e=>r.tags[e])).join(", "))).join("\n"),i=a.guaranteeSRTagCombs.map((e=>e.map((e=>r.tags[e])).join(", "))).join("\n"),c=0===i.length?o:0===o.length?l.enlist.filter.guaranteeSR+":\n"+i:o+"\n"+l.enlist.filter.guaranteeSR+":\n"+i;return n.createElement(ae,{title:c,TransitionComponent:p.Z,placement:"bottom",arrow:!0},t)},le=e=>{var{sortedData:t}=e,{userLanguage:a,charString:r}=(0,h.f)();return n.createElement(c.Z,null,t.map((e=>{return n.createElement(d.Z,{key:e.id},n.createElement(s.Z,null,n.createElement(re,{char:e},n.createElement(ne,null,n.createElement(B.Ps,{id:e.id,$lang:a,$type:"FILTER"}),n.createElement(oe,null,0!==e.distinctTagCombs.length?n.createElement(ie,null,M.r7):null,0!==e.guaranteeSRTagCombs.length?n.createElement(ie,null,M.lO):null)))),n.createElement(s.Z,null,0===(t=e.rarity)?"N":1===t?"R":2===t?"SR":"SSR"),n.createElement(s.Z,null,e.appliedTags.map((e=>r.tags[e])).join(", ")));var t})))},ne=o.default.div.withConfig({displayName:"filter__CharCardWrapper",componentId:"sc-1hqyze1-5"})(["display:flex;flex-direction:row;justify-content:flex-start;margin-left:-0.75rem;width:max-content;"]),oe=o.default.div.withConfig({displayName:"filter__MarksContainer",componentId:"sc-1hqyze1-6"})(["display:flex;flex-direction:column;justify-content:center;"]),ie=(0,o.default)(X).withConfig({displayName:"filter__MarkIconWrapper",componentId:"sc-1hqyze1-7"})(["display:flex;align-items:center;svg{width:1rem;height:1rem;margin:0.1rem 0 0.1rem -0.6rem;}"]),ce=e=>{var{open:t,onClose:a,filterLayout:r,resultLayout:l,handleLayoutChange:o}=e,{pageString:i}=(0,h.f)();return n.createElement(de,{title:i.enlist.filter.settingModal.title,open:t,onClose:a,ariaLabelledby:"setting-modal-title",ariaDescribedby:"setting-modal-description"},n.createElement(H.Z,{label:i.enlist.filter.settingModal.groupLabel,value:i.enlist.filter.settingModal.labels[r],handleChange:o("filter")},i.enlist.filter.settingModal.labels.map((e=>n.createElement(H.Y,{label:e,value:e,key:e})))),n.createElement(H.Z,{label:i.enlist.filter.settingModal.resultDisplay,value:i.enlist.filter.settingModal.resultLabels[l],handleChange:o("result")},i.enlist.filter.settingModal.resultLabels.map((e=>n.createElement(H.Y,{label:e,value:e,key:e})))))},de=(0,o.default)(O.WQ).withConfig({displayName:"filter__StyledModal",componentId:"sc-1hqyze1-8"})(["> div:nth-child(3){top:25%;width:30%;min-width:max-content;}"]),se=e=>{var{open:t,onClose:a}=e,{pageString:r}=(0,h.f)();return n.createElement(O.p2,{title:r.enlist.filter.helpModal.title,open:t,onClose:a,content:r.enlist.filter.helpModal.content,ariaLabelledby:"help-modal-title",ariaDescribedby:"help-modal-description"})};function*me(e,t){for(var a=0;a<e.length;a++)if(1===t)yield[e[a]];else{var r=me(e.slice(a+1,e.length),t-1);for(var l of r)yield[e[a],...l]}}var pe=(e,t)=>{for(var a=Array.from(t),r=function(t){e.every((e=>a[t].includes(e)))&&a.splice(t,1)},l=a.length-1;l>=0;l--)r(l);return a.push(e),a},ue=W.filter((e=>e.tags.available)).map((e=>{var{id:t,rarity:a,tags:r}=e,{else:n}=r,o=(0,l.Z)(r,D);return{id:t,rarity:a,tags:[...Object.values(o),...n]}})),ge=()=>{var{pageString:e,charString:t}=(0,h.f)(),{0:a,1:r}=(0,n.useState)({filterBtnValue:[],enlistHour:9}),{0:l,1:o}=(0,n.useState)(!1),{layout:i,setLayout:c}=(0,g.Z)("group-btns-by-class",[0,1],"undefined"==typeof window||window.innerWidth<=1e3?1:0),{layout:d,setLayout:s}=(0,g.Z)("show-filter-result-by",[0,1],0),m=(0,n.useCallback)((e=>{var t=Array.from(ue);if(!e.includes(20)){var r=a.enlistHour<4&&!e.includes(19)?2:3;t=t.filter((e=>e.rarity<r))}return t.filter((t=>{return a=t.tags,e.every((e=>a.includes(e)));var a}))}),[a.enlistHour]),p=(0,n.useCallback)(((e,a)=>{e.sort(((e,r)=>{var l,n;return"appliedTags"===a.key?(l=e[a.key].join(""),n=r[a.key].join("")):"name"===a.key?(l=t.name[e.id],n=t.name[r.id]):(l=e[a.key],n=r[a.key]),l<n?"asc"===a.direction?-1:1:l>n?"asc"===a.direction?1:-1:0}))}),[t]),u=(0,n.useMemo)((()=>{if(0===a.filterBtnValue.length)return[];var e=[...a.filterBtnValue].sort();try{dataLayer&&5===e.length&&dataLayer.push({event:"five_tags_selected",character_tag_combination:e})}catch(l){}if(1===d){var t=function(){for(var t=[],a=Math.min(e.length,3);a>0;a--){Array.from(me(e,a)).forEach((e=>{var a,r,l=m(e);l.length>0&&t.push({tags:e,characters:l,score:(a=l,r=Array(4).fill(!1),a.forEach((e=>{r[e.rarity]=!0})),r.reduce(((e,t,a)=>e+(t?(a-1.4)*(a+1):0)),0))})}))}return{v:t.sort(((e,t)=>t.score-e.score))}}();if("object"==typeof t)return t.v}else{var r=function(){for(var t=[],a=e.length;a>0;a--){Array.from(me(e,a)).forEach((e=>{var a=m(e);if(1===a.length&&e.length<=3){var r=t.find((e=>e.id===a[0].id));r?r.distinctTagCombs=pe(e,r.distinctTagCombs):t.push({id:a[0].id,rarity:a[0].rarity,appliedTags:e,distinctTagCombs:[e],guaranteeSRTagCombs:[]})}else{var l=e.length<=3&&a.every((e=>2===e.rarity));a.forEach((a=>{var r=t.find((e=>e.id===a.id));r?l&&(r.guaranteeSRTagCombs=pe(e,r.guaranteeSRTagCombs)):t.push({id:a.id,rarity:a.rarity,appliedTags:e,distinctTagCombs:[],guaranteeSRTagCombs:l?[e]:[]})}))}}))}return{v:t}}();if("object"==typeof r)return r.v}}),[a.filterBtnValue,a.enlistHour,d]);return n.createElement(n.Fragment,null,n.createElement(f.Z,{panelsWidth:["60%","40%"]},n.createElement(Q,{handleBtnGroupChange:e=>(t,l)=>{var n;if(void 0!==e){var i=F.map((e=>a.filterBtnValue.filter((t=>t>=e.range[0]&&t<e.range[1]))));i[e]=l,n=[].concat(...i)}else n=l;n.length>5?o(!0):r((e=>A(A({},e),{},{filterBtnValue:n})))},clearBtnValue:()=>{r((e=>A(A({},e),{},{filterBtnValue:[]})))},enlistHour:a.enlistHour,handleEnlistHourChange:e=>{r((t=>A(A({},t),{},{enlistHour:+e.target.value})))},filterBtnValue:a.filterBtnValue,filterLayout:i,resultLayout:d,handleLayoutChange:t=>a=>{r((e=>A(A({},e),{},{isSettingModalOpen:!1}))),"filter"===t?c(e.enlist.filter.settingModal.labels.indexOf(a.target.value)):"result"===t&&s(e.enlist.filter.settingModal.resultLabels.indexOf(a.target.value))},groupBtnByClass:0===i}),1===d?n.createElement(Z,{filteredData:u,maxHeight:0===i?"calc(100vh - 5rem)":"calc(100vh - 16rem)",striped:!0,helpModal:n.createElement(se,null)}):n.createElement(L.Z,{data:u,head:n.createElement(te,null),body:n.createElement(le,null),sortFunc:p,defaultSortKey:"rarity",maxHeight:0===i?"calc(100vh - 5rem)":"calc(100vh - 16rem)",striped:!0,helpModal:n.createElement(se,null)})),n.createElement(q.Z,{open:l,onClose:()=>o(!1),message:e.enlist.filter.snackbarMsg,type:"warn"}))}}}]);
//# sourceMappingURL=component---src-pages-enlist-filter-js-028bbf17a77f0188d6c4.js.map