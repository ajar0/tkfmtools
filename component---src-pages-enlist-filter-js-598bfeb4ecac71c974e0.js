"use strict";(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[182],{74772:function(e,t,a){a.d(t,{Q:function(){return c},qg:function(){return m},cP:function(){return u}});var r=a(67294),l=a(50009),n=a(42857),o=a(93175),i=a(16855),c=e=>{var{children:t,className:a,imgType:l,imgId:n,alt:o,isBackground:i}=e;return i?r.createElement(s,{className:a,name:l+"_"+n,isBackground:!0,alt:o},t):r.createElement(d,{className:a},r.createElement(s,{name:l+"_"+n,alt:o}),t)},s=(0,l.ZP)(o.Z).withConfig({displayName:"Card__StyledImg",componentId:"sc-1duszqx-0"})(["display:flex;justify-content:center;align-items:center;width:100%;background-repeat:no-repeat;"]),d=l.ZP.div.withConfig({displayName:"Card__ImgWrapper",componentId:"sc-1duszqx-1"})(["display:flex;align-items:center;justify-content:center;"]),m=e=>{var{className:t,id:a}=e,{itemString:l}=(0,n.f)();return r.createElement(p,{className:t,imgType:"item",imgId:a,alt:""},r.createElement(g,null,l.name[a]))},p=(0,l.ZP)(c).withConfig({displayName:"Card__ItemImg",componentId:"sc-1duszqx-2"})(["> div:first-child{width:2.5rem;height:2.5rem;margin-right:0.4rem;user-select:none;}"]),g=l.ZP.div.withConfig({displayName:"Card__TextWrapper",componentId:"sc-1duszqx-3"})(["white-space:nowrap;font-size:medium;font-weight:normal;"]),u=e=>{var{className:t,children:a,striped:l}=e;return r.createElement(h,{className:t,$striped:l},a)},h=(0,l.ZP)(i.Z).withConfig({displayName:"Card__StyledTable",componentId:"sc-1duszqx-4"})(["&& .MuiTableCell-root{font-size:0.9rem;padding:0.3rem;padding-left:0.75rem;}"])},47233:function(e,t,a){a.d(t,{Ps:function(){return b},ac:function(){return w}});var r=a(45987),l=a(67294),n=a(50009),o=a(86300),i=a(99395),c=a(49400),s=a(42857),d=a(74772),m=a(28437),p=a(5102),g=["available"],u=e=>{var{className:t,id:a}=e,{charString:r}=(0,s.f)();return l.createElement(h,{className:t,imgType:"char_small",imgId:a,alt:"",isBackground:!0},l.createElement(y,null,r.name[a].split(" ").slice(0,-1).join(" ")),l.createElement(f,null,r.name[a].split(" ").slice(-1)[0]))},h=(0,n.ZP)(d.Q).withConfig({displayName:"CharCard__StyledCard",componentId:"sc-1p8ym1z-0"})(["flex-direction:column;align-items:flex-end;justify-content:space-around;width:100%;min-width:10rem;height:3.6rem;background-repeat:no-repeat;background-size:6rem 6rem;background-position:0 -1.6rem;"]),f=n.ZP.div.withConfig({displayName:"CharCard__TextWrapper",componentId:"sc-1p8ym1z-1"})(["margin-left:0;margin-right:1rem;transition:all 0.3s ease;text-transform:none;text-shadow:0 0 1px ",",-2px 0 1px ",",2px 0 1px ",",0 -2px 1px ",",0 2px 1px ",",2px 2px 1px ",",2px -2px 1px ",",-2px 2px 1px ",",-2px -2px 1px ",";"],(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface),(e=>e.theme.colors.surface)),y=(0,n.ZP)(f).withConfig({displayName:"CharCard__TitleText",componentId:"sc-1p8ym1z-2"})(["font-size:small;"]),b=(0,n.ZP)(u).withConfig({displayName:"CharCard__ResponsiveCharCard",componentId:"sc-1p8ym1z-3"})(["@media screen and (min-width:","px){flex-direction:row;align-items:center;justify-content:flex-start;> div{margin-left:7rem;}> div:last-child{margin-left:-0.6rem;}}"],(e=>e.$textWrapConfig)),v=e=>{var{type:t,tag:a}=e,{charString:r}=(0,s.f)(),n={attribute:m.XV,position:m.$g,race:m.i6,body:m.cp,oppai:m.JU,rank:m.U2,else:m.fP};return l.createElement(i.Z,null,l.createElement(c.Z,null,l.createElement(C,null,l.createElement(x,null,n[t]),r.tags[a])))},C=n.ZP.div.withConfig({displayName:"CharCard__TagWrapper",componentId:"sc-1p8ym1z-4"})(["display:flex;flex-direction:row;"]),x=n.ZP.div.withConfig({displayName:"CharCard__IconWrapper",componentId:"sc-1p8ym1z-5"})(["margin-bottom:0.1rem;margin-left:0.25rem;margin-right:0.4rem;> svg{width:1.2rem;fill:",";color:",";}"],(e=>e.theme.colors.secondary),(e=>e.theme.colors.secondary)),w=e=>{var{id:t}=e,{charString:a}=(0,s.f)(),{tags:n}=p.find((e=>e.id===t)),{available:m}=n,u=(0,r.Z)(n,g);return m?l.createElement(d.cP,{striped:!0},l.createElement(o.Z,null,Object.entries(u).map(((e,t)=>{var[a,r]=e;return"else"===a?r.map((e=>l.createElement(v,{key:e,type:"else",tag:e}))):r>=0?l.createElement(v,{key:r,type:a,tag:r}):null})))):l.createElement(d.cP,{striped:!0},l.createElement(o.Z,null,l.createElement(i.Z,null,l.createElement(c.Z,null,a.tagWarnMsg))))};t.ZP=u},67e3:function(e,t,a){a.d(t,{m1:function(){return E},bO:function(){return x},$e:function(){return b},qc:function(){return v}});var r=a(67294),l=a(50009),n=a(87462),o=a(45987),i=a(85505),c=(0,a(19123).Z)(r.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),s=a(34621),d=a(37595),m=a(11291),p=a(81664),g=a(67055);function u(e){return"Backspace"===e.key||"Delete"===e.key}var h=r.forwardRef((function(e,t){var a=e.avatar,l=e.classes,s=e.className,d=e.clickable,h=e.color,f=void 0===h?"default":h,y=e.component,b=e.deleteIcon,v=e.disabled,C=void 0!==v&&v,x=e.icon,w=e.label,E=e.onClick,k=e.onDelete,S=e.onKeyDown,Z=e.onKeyUp,_=e.size,P=void 0===_?"medium":_,I=e.variant,T=void 0===I?"default":I,N=(0,o.Z)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),O=r.useRef(null),z=(0,m.Z)(O,t),$=function(e){e.stopPropagation(),k&&k(e)},L=!(!1===d||!E)||d,M="small"===P,R=y||(L?g.Z:"div"),j=R===g.Z?{component:"div"}:{},H=null;if(k){var B=(0,i.Z)("default"!==f&&("default"===T?l["deleteIconColor".concat((0,p.Z)(f))]:l["deleteIconOutlinedColor".concat((0,p.Z)(f))]),M&&l.deleteIconSmall);H=b&&r.isValidElement(b)?r.cloneElement(b,{className:(0,i.Z)(b.props.className,l.deleteIcon,B),onClick:$}):r.createElement(c,{className:(0,i.Z)(l.deleteIcon,B),onClick:$})}var q=null;a&&r.isValidElement(a)&&(q=r.cloneElement(a,{className:(0,i.Z)(l.avatar,a.props.className,M&&l.avatarSmall,"default"!==f&&l["avatarColor".concat((0,p.Z)(f))])}));var W=null;return x&&r.isValidElement(x)&&(W=r.cloneElement(x,{className:(0,i.Z)(l.icon,x.props.className,M&&l.iconSmall,"default"!==f&&l["iconColor".concat((0,p.Z)(f))])})),r.createElement(R,(0,n.Z)({role:L||k?"button":void 0,className:(0,i.Z)(l.root,s,"default"!==f&&[l["color".concat((0,p.Z)(f))],L&&l["clickableColor".concat((0,p.Z)(f))],k&&l["deletableColor".concat((0,p.Z)(f))]],"default"!==T&&[l.outlined,{primary:l.outlinedPrimary,secondary:l.outlinedSecondary}[f]],C&&l.disabled,M&&l.sizeSmall,L&&l.clickable,k&&l.deletable),"aria-disabled":!!C||void 0,tabIndex:L||k?0:void 0,onClick:E,onKeyDown:function(e){e.currentTarget===e.target&&u(e)&&e.preventDefault(),S&&S(e)},onKeyUp:function(e){e.currentTarget===e.target&&(k&&u(e)?k(e):"Escape"===e.key&&O.current&&O.current.blur()),Z&&Z(e)},ref:z},j,N),q||W,r.createElement("span",{className:(0,i.Z)(l.label,M&&l.labelSmall)},w),H)})),f=(0,s.Z)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],a=(0,d.Fq)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,d._4)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:(0,d._4)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:(0,d._4)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:(0,d._4)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:(0,d._4)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:(0,d._4)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,d.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,d.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,d.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:a,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,d.Fq)(a,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:(0,d.Fq)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:(0,d.Fq)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:(0,d.Fq)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:(0,d.Fq)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(h),y=a(42857),b=()=>{var{userLanguage:e,pageString:t}=(0,y.f)();return r.createElement(C,{label:t.index.updateLog.new,$lang:e})},v=(0,l.ZP)(f).withConfig({displayName:"Chip__StyledChip",componentId:"sc-1s0dbsc-0"})(["&&{height:auto;width:",";color:",";font-size:small;> span{padding:0 0.4rem;}margin-right:0.4rem;}"],(e=>"en"===e.$lang?"3.8rem":"auto"),(e=>e.theme.colors.onPrimary)),C=(0,l.ZP)(v).withConfig({displayName:"Chip__StyledNewChip",componentId:"sc-1s0dbsc-1"})(["&&{background-color:",";}"],(e=>e.theme.colors.success)),x=()=>{var{userLanguage:e,pageString:t}=(0,y.f)();return r.createElement(w,{label:t.index.updateLog.fix,$lang:e})},w=(0,l.ZP)(v).withConfig({displayName:"Chip__StyledFixChip",componentId:"sc-1s0dbsc-2"})(["&&{background-color:",";}"],(e=>e.theme.colors.error)),E=()=>{var{userLanguage:e,pageString:t}=(0,y.f)();return r.createElement(k,{label:t.index.updateLog.change,$lang:e})},k=(0,l.ZP)(v).withConfig({displayName:"Chip__StyledChangeChip",componentId:"sc-1s0dbsc-3"})(["&&{background-color:",";}"],(e=>e.theme.colors.blue))},24452:function(e,t,a){var r=a(67294),l=a(50009),n=a(50033),o=a(42857),i=a(25072),c=a(87001),s=(0,l.ZP)(n.Z).withConfig({displayName:"ResultTablePanel__TableWrapper",componentId:"sc-lhulap-0"})(["max-height:",";overflow-x:hidden;overflow-y:auto;"],(e=>e.$maxHeight)),d=(0,l.ZP)(c.ZP).withConfig({displayName:"ResultTablePanel__StyledSortableTable",componentId:"sc-lhulap-1"})(["img{width:1.8rem;height:1.8rem;}td{padding-left:0.75rem;}"]);t.Z=e=>{var{data:t,head:a,body:l,sortFunc:n,defaultSortKey:c,handleModalOpen:m,maxHeight:p,striped:g,headerEnd:u}=e,{pageString:h}=(0,o.f)();return r.createElement(r.Fragment,null,r.createElement(i.ZP,{title:h.items.drop.filter.resultTitle,withHelp:!0,onClickHelp:m,end:u,border:!0}),r.createElement(s,{$maxHeight:p},r.createElement(d,{data:t,head:a,body:l,sortFunc:n,defaultSortKey:c,striped:g})))}},26221:function(e,t,a){a.r(t),a.d(t,{default:function(){return he}});var r=a(4942),l=a(45987),n=a(67294),o=a(50009),i=a(4093),c=a(86300),s=a(99395),d=a(49400),m=a(31334),p=a(136),g=a(34621),u=a(77447),h=a(54480),f=a(42857),y=a(50033),b=a(16855),v=a(25072),C=e=>{var{pageString:t}=(0,f.f)();return n.createElement(i.Z,null,n.createElement(s.Z,null,t.enlist.filter.tableHead.map(((e,t)=>n.createElement(x,{key:t},e.title)))))},x=(0,o.ZP)(d.Z).withConfig({displayName:"table-head__CellWrapper",componentId:"sc-1azc40m-0"})(["&&{background-color:",";color:",";user-select:none;}"],(e=>e.theme.colors.surface),(e=>e.theme.colors.onSurface)),w=a(74772),E=e=>{var{sortedData:t}=e,{charString:a}=(0,f.f)();return n.createElement(c.Z,null,t.map(((e,t)=>n.createElement(s.Z,{key:t},n.createElement(d.Z,{padding:"none"},t+1),n.createElement(d.Z,null,n.createElement(k,null,e.tags.map((e=>a.tags[e])).join(", "))),n.createElement(d.Z,null,n.createElement(S,null,e.characters.map((e=>n.createElement(Z,{rarity:e.rarity,key:e.id},n.createElement(_,{rarity:e.rarity,imgType:"char_small",imgId:e.id,alt:""}),a.name[e.id].split(" ").slice(-1)[0])))))))))},k=o.ZP.span.withConfig({displayName:"table-body__TextWrapper",componentId:"sc-s0efkm-0"})(["word-break:keep-all;white-space:break-spaces;@media screen and (max-width:600px){font-size:small;}"]),S=o.ZP.div.withConfig({displayName:"table-body__CardRow",componentId:"sc-s0efkm-1"})(["width:100%;display:flex;flex-wrap:wrap;"]),Z=o.ZP.div.withConfig({displayName:"table-body__Card",componentId:"sc-s0efkm-2"})(["display:flex;align-items:center;height:3rem;padding:1px 8px 1px 1px;margin:4px;background-color:",";box-shadow:2px 2px 2px 1px ",";border-radius:3rem;color:",";@media screen and (max-width:600px){font-size:small;}"],(e=>e.theme.colors.dropdownHover+"40"),(e=>e.theme.colors.dropdownHover+"80"),(e=>e.theme.colors.onSurface)),_=(0,o.ZP)(w.Q).withConfig({displayName:"table-body__CharacterImage",componentId:"sc-s0efkm-3"})(["margin-right:2px;> div:first-child{width:3rem;height:3rem;border-radius:100%;border:2.5px solid ",";}img{border:none;}"],(e=>e.rarity<2?e.theme.colors.shadow:e.theme.colors.secondary)),P=e=>{var{pageString:t}=(0,f.f)(),{filteredData:a,handleModalOpen:r,maxHeight:l,striped:o}=e;return n.createElement(n.Fragment,null,n.createElement(v.ZP,{title:t.items.drop.filter.resultTitle,withHelp:!0,onClickHelp:r,border:!0}),n.createElement(I,{$maxHeight:l},n.createElement(T,{stickyHeader:!0,$striped:o,size:"small"},n.createElement(C,null),n.createElement(E,{sortedData:a}))))},I=(0,o.ZP)(y.Z).withConfig({displayName:"result-table__TableWrapper",componentId:"sc-vcw2pd-0"})(["max-height:",";overflow-x:hidden;overflow-y:auto;@media screen and (max-width:1000px){overflow-y:hidden;}"],(e=>e.$maxHeight)),T=(0,o.ZP)(b.Z).withConfig({displayName:"result-table__StyledTable",componentId:"sc-vcw2pd-1"})(["td{padding-left:0.75rem;}"]),N=a(24452),O=a(47378),z=a(87001),$=a(22727),L=a(67e3),M=a(82195),R=a(50190),j=a(47233),H=a(22776),B=a(67993),q=a(79520),W=a(28437),D=JSON.parse('[{"type":"attribute","range":[0,5]},{"type":"position","range":[5,10]},{"type":"race","range":[10,13]},{"type":"body","range":[13,15]},{"type":"oppai","range":[15,18]},{"type":"rank","range":[18,21]},{"type":"else","range":[21,33]}]'),F=a(5102),V=["else"];function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=e=>{var{value:t,onChange:a,layoutConfig:r,groupRange:l}=e,{charString:o}=(0,f.f)(),i={attribute:W.XV,position:W.$g,race:W.i6,body:W.cp,oppai:W.JU,rank:W.U2,else:W.fP};return n.createElement(M.Z,{value:t,onChange:a,layoutConfig:r},D.slice(l[0],l[1]).map((e=>[...Array(e.range[1]).keys()].slice(e.range[0]).map((t=>n.createElement(M.C,{value:t,key:t},i[e.type],o.tags[t]))))))},G={en:{1400:5,1160:4,1e3:3,768:4,580:3,0:2},"zh-TW":{1260:6,1080:5,1e3:4,768:5,550:4,355:3,0:2},ja:{1460:6,1250:5,1030:4,1e3:3,768:5,630:4,430:3,0:2},ko:{1260:6,768:5,550:4,365:3,0:2}},J=e=>{var{filterBtnValue:t,handleBtnGroupChange:a,groupBtnByClass:r}=e,{userLanguage:l,charString:o}=(0,f.f)();return n.createElement("div",null,r?D.map(((e,r)=>n.createElement(Q,{key:r},n.createElement(Y,{label:o.tagAttributes[e.type],$lang:l}),n.createElement(U,{value:t.filter((t=>t>=e.range[0]&&t<e.range[1])),onChange:a(r),layoutConfig:G[l],groupRange:[r,r+1]})))):n.createElement(Q,null,n.createElement(U,{value:t,onChange:a(),layoutConfig:G[l],groupRange:[0,7]})))},Q=o.ZP.div.withConfig({displayName:"filter__BtnGroupWrapper",componentId:"sc-1hqyze1-0"})(["position:relative;padding:0.5rem;padding-top:0.8rem;margin:1rem 0;border-radius:0.25rem;border:1px solid ",";background-color:",";"],(e=>e.theme.colors.secondary),(e=>e.theme.colors.surface)),Y=(0,o.ZP)(L.qc).withConfig({displayName:"filter__AttributeChip",componentId:"sc-1hqyze1-1"})(["&&{position:absolute;z-index:1;top:-0.6rem;width:",";background-color:brown;color:white;}"],(e=>"en"===e.$lang?"4.5rem":"auto")),X=e=>{var{clearBtnValue:t,filterBtnValue:a,enlistHour:r,handleBtnGroupChange:l,handleEnlistHourChange:o,handleModalOpen:i,groupBtnByClass:c}=e,{pageString:s}=(0,f.f)(),{0:d,1:m}=(0,n.useState)("00");return n.createElement(n.Fragment,null,n.createElement(v.ZP,{title:s.enlist.filter.tagSelectTitle,titleIcon:W.lO,end:n.createElement(n.Fragment,null,n.createElement($.Io,{onClick:t,tooltipText:s.enlist.filter.deleteTooltip},W.pJ),n.createElement($.Io,{onClick:i,tooltipText:s.enlist.filter.settingTooltip},W.qY)),border:!0}),n.createElement(J,{filterBtnValue:a,handleBtnGroupChange:l,groupBtnByClass:c}),n.createElement(ee,{title:s.enlist.filter.timeSelectTitle,titleIcon:W.T3,border:!0}),n.createElement(ae,{values:[...Array(10).keys()].slice(1),value:r,variant:"outlined",size:"small",inputProps:{"aria-label":"recruitment-hour"},onChange:o}),"：",n.createElement(ae,{values:["00","10","20","30","40","50"],value:d,variant:"outlined",size:"small",inputProps:{"aria-label":"recruitment-minute"},onChange:e=>m(e.target.value)}))},ee=(0,o.ZP)(v.ZP).withConfig({displayName:"filter__StyledHeader",componentId:"sc-1hqyze1-2"})(["padding-bottom:0.4rem;"]),te=o.ZP.div.withConfig({displayName:"filter__IconWrapper",componentId:"sc-1hqyze1-3"})(["svg{width:1.2rem;height:1.2rem;margin-right:0.4rem;margin-bottom:0.2rem;fill:",";color:",";}"],(e=>e.theme.colors.onSurface),(e=>e.theme.colors.onSurface)),ae=(0,o.ZP)(R.P).withConfig({displayName:"filter__StyledSelect",componentId:"sc-1hqyze1-4"})(["&& > div > div{padding-right:1.4rem;}"]),re=e=>{var{requestSort:t,getSortDirection:a}=e,{pageString:r}=(0,f.f)();return n.createElement(i.Z,null,n.createElement(s.Z,null,r.enlist.filter.tableHeadByCharacter.map(((e,r)=>n.createElement(z.Re,{key:r,onClick:()=>t(e.attr),direction:a(e.attr)},e.title)))))},le=(0,g.Z)({tooltip:{right:"0",fontSize:"1rem",whiteSpace:"pre"}})(m.ZP),ne=e=>{var{children:t,char:a}=e,{charString:r,pageString:l}=(0,f.f)(),o=a.distinctTagCombs.map((e=>e.map((e=>r.tags[e])).join(", "))).join("\n"),i=a.guaranteeSRTagCombs.map((e=>e.map((e=>r.tags[e])).join(", "))).join("\n"),c=0===i.length?o:0===o.length?l.enlist.filter.guaranteeSR+":\n"+i:o+"\n"+l.enlist.filter.guaranteeSR+":\n"+i;return n.createElement(le,{title:c,TransitionComponent:p.Z,placement:"bottom",arrow:!0},t)},oe={"zh-TW":1360,en:1360,ja:1460,ko:1360},ie=e=>{var{sortedData:t}=e,{userLanguage:a,charString:r}=(0,f.f)();return n.createElement(c.Z,null,t.map((e=>{return n.createElement(s.Z,{key:e.id},n.createElement(d.Z,null,n.createElement(ne,{char:e},n.createElement(ce,null,n.createElement(j.Ps,{id:e.id,$textWrapConfig:oe[a]}),n.createElement(se,null,0!==e.distinctTagCombs.length?n.createElement(de,null,W.r7):null,0!==e.guaranteeSRTagCombs.length?n.createElement(de,null,W.lO):null)))),n.createElement(d.Z,null,0===(t=e.rarity)?"N":1===t?"R":2===t?"SR":"SSR"),n.createElement(d.Z,null,e.appliedTags.map((e=>r.tags[e])).join(", ")));var t})))},ce=o.ZP.div.withConfig({displayName:"filter__CharCardWrapper",componentId:"sc-1hqyze1-5"})(["display:flex;flex-direction:row;justify-content:flex-start;margin-left:-0.75rem;width:max-content;"]),se=o.ZP.div.withConfig({displayName:"filter__MarksContainer",componentId:"sc-1hqyze1-6"})(["display:flex;flex-direction:column;justify-content:center;"]),de=(0,o.ZP)(te).withConfig({displayName:"filter__MarkIconWrapper",componentId:"sc-1hqyze1-7"})(["display:flex;align-items:center;svg{width:1rem;height:1rem;margin:0.1rem 0 0.1rem -0.6rem;}"]),me=e=>{var{open:t,onClose:a,filterLayout:r,resultLayout:l,handleLayoutChange:o}=e,{pageString:i}=(0,f.f)();return n.createElement(pe,{title:i.enlist.filter.settingModal.title,open:t,onClose:a,ariaLabelledby:"setting-modal-title",ariaDescribedby:"setting-modal-description"},n.createElement(B.Z,{label:i.enlist.filter.settingModal.groupLabel,value:i.enlist.filter.settingModal.labels[r],handleChange:o("filter")},i.enlist.filter.settingModal.labels.map((e=>n.createElement(B.Y,{label:e,value:e,key:e})))),n.createElement(B.Z,{label:i.enlist.filter.settingModal.resultDisplay,value:i.enlist.filter.settingModal.resultLabels[l],handleChange:o("result")},i.enlist.filter.settingModal.resultLabels.map((e=>n.createElement(B.Y,{label:e,value:e,key:e})))))},pe=(0,o.ZP)(H.WQ).withConfig({displayName:"filter__StyledModal",componentId:"sc-1hqyze1-8"})(["> div:nth-child(3){top:25%;width:30%;min-width:max-content;}"]);function*ge(e,t){for(var a=0;a<e.length;a++)if(1===t)yield[e[a]];else{var r=ge(e.slice(a+1,e.length),t-1);for(var l of r)yield[e[a],...l]}}var ue=(e,t)=>{for(var a=Array.from(t),r=function(t){e.every((e=>a[t].includes(e)))&&a.splice(t,1)},l=a.length-1;l>=0;l--)r(l);return a.push(e),a},he=()=>{var{0:e,1:t}=(0,n.useState)({filterBtnValue:[],enlistHour:"9",isHelpModalOpen:!1,isSettingModalOpen:!1,isSnackbarOpen:!1}),{layout:a,setLayout:r}=(0,u.Z)("group-btns-by-class",[0,1],"undefined"==typeof window||window.innerWidth<=1e3?1:0),{layout:o,setLayout:i}=(0,u.Z)("show-filter-result-by",[0,1],0),{pageString:c,charString:s}=(0,f.f)(),d=(0,n.useMemo)((()=>F.filter((e=>e.tags.available)).map((e=>{var{id:t,rarity:a,tags:r}=e,{else:n}=r,o=(0,l.Z)(r,V);return{id:t,rarity:a,tags:[...Object.values(o),...n]}}))),[]),m=(0,n.useCallback)((t=>{var a=Array.from(d);if(!t.includes(20)){var r=e.enlistHour<4&&!t.includes(19)?2:3;a=a.filter((e=>e.rarity<r))}return a.filter((e=>{return a=e.tags,t.every((e=>a.includes(e)));var a}))}),[e.enlistHour]),p=(0,n.useCallback)(((e,t)=>{e.sort(((e,a)=>{var r,l;return"appliedTags"===t.key?(r=e[t.key].join(""),l=a[t.key].join("")):"name"===t.key?(r=s.name[e.id],l=s.name[a.id]):(r=e[t.key],l=a[t.key]),r<l?"asc"===t.direction?-1:1:r>l?"asc"===t.direction?1:-1:0}))}),[s]),g=(0,n.useMemo)((()=>{if(0===e.filterBtnValue.length)return[];var t=[...e.filterBtnValue].sort();if(dataLayer&&5===t.length&&dataLayer.push({event:"five_tags_selected",character_tag_combination:t}),1===o){var a=function(){for(var e=[],a=Math.min(t.length,3);a>0;a--){Array.from(ge(t,a)).forEach((t=>{var a,r,l=m(t);l.length>0&&e.push({tags:t,characters:l,score:(a=l,r=Array(4).fill(!1),a.forEach((e=>{r[e.rarity]=!0})),r.reduce(((e,t,a)=>e+(t?(a-1.4)*(a+1):0)),0))})}))}return{v:e.sort(((e,t)=>t.score-e.score))}}();if("object"==typeof a)return a.v}else{var r=function(){for(var e=[],a=t.length;a>0;a--){Array.from(ge(t,a)).forEach((t=>{var a=m(t);if(1===a.length&&t.length<=3){var r=e.find((e=>e.id===a[0].id));r?r.distinctTagCombs=ue(t,r.distinctTagCombs):e.push({id:a[0].id,rarity:a[0].rarity,appliedTags:t,distinctTagCombs:[t],guaranteeSRTagCombs:[]})}else{var l=t.length<=3&&a.every((e=>2===e.rarity));a.forEach((a=>{var r=e.find((e=>e.id===a.id));r?l&&(r.guaranteeSRTagCombs=ue(t,r.guaranteeSRTagCombs)):e.push({id:a.id,rarity:a.rarity,appliedTags:t,distinctTagCombs:[],guaranteeSRTagCombs:l?[t]:[]})}))}}))}return{v:e}}();if("object"==typeof r)return r.v}}),[e.filterBtnValue,e.enlistHour,o]),y=e=>()=>{t((t=>K(K({},t),{},{isHelpModalOpen:e})))},b=e=>()=>{t((t=>K(K({},t),{},{isSettingModalOpen:e})))};return n.createElement(n.Fragment,null,n.createElement(O.Z,{title:c.enlist.filter.helmet.title,description:c.enlist.filter.helmet.description,path:"/enlist/filter/"}),n.createElement(h.Z,{panelsWidth:["60%","40%"]},n.createElement(X,{handleBtnGroupChange:a=>(r,l)=>{var n;if(void 0!==a){var o=D.map((t=>e.filterBtnValue.filter((e=>e>=t.range[0]&&e<t.range[1]))));o[a]=l,n=[].concat(...o)}else n=l;n.length>5?t((e=>K(K({},e),{},{isSnackbarOpen:!0}))):t((e=>K(K({},e),{},{filterBtnValue:n})))},clearBtnValue:()=>{t((e=>K(K({},e),{},{filterBtnValue:[]})))},enlistHour:e.enlistHour,handleEnlistHourChange:e=>{t((t=>K(K({},t),{},{enlistHour:e.target.value})))},filterBtnValue:e.filterBtnValue,handleModalOpen:b(!0),groupBtnByClass:0===a}),1===o?n.createElement(P,{filteredData:g,handleModalOpen:y(!0),maxHeight:0===a?"calc(100vh - 5rem)":"calc(100vh - 16rem)",striped:!0}):n.createElement(N.Z,{data:g,head:n.createElement(re,null),body:n.createElement(ie,null),sortFunc:p,defaultSortKey:"rarity",handleModalOpen:y(!0),maxHeight:0===a?"calc(100vh - 5rem)":"calc(100vh - 16rem)",striped:!0})),n.createElement(me,{open:e.isSettingModalOpen,onClose:b(!1),filterLayout:a,resultLayout:o,handleLayoutChange:e=>a=>{t((e=>K(K({},e),{},{isSettingModalOpen:!1}))),"filter"===e?r(c.enlist.filter.settingModal.labels.indexOf(a.target.value)):"result"===e&&i(c.enlist.filter.settingModal.resultLabels.indexOf(a.target.value))}}),n.createElement(H.p2,{title:c.enlist.filter.helpModal.title,open:e.isHelpModalOpen,onClose:y(!1),content:c.enlist.filter.helpModal.content,ariaLabelledby:"help-modal-title",ariaDescribedby:"help-modal-description"}),n.createElement(q.Z,{open:e.isSnackbarOpen,onClose:()=>{t((e=>K(K({},e),{},{isSnackbarOpen:!1})))},message:c.enlist.filter.snackbarMsg,type:"warn"}))}}}]);
//# sourceMappingURL=component---src-pages-enlist-filter-js-598bfeb4ecac71c974e0.js.map